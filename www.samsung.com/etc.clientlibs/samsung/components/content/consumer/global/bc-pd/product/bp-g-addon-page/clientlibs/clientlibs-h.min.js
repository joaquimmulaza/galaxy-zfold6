var bc_addon_page=function(){function U(f){var a="jQuery1910499421933433041_151";if("ca"==siteCode||"ca_fr"==siteCode)a+=Math.floor(100*Math.random());if(void 0!=BC_PRODUCTS[f].categoryprefixData&&""!=BC_PRODUCTS[f].categoryprefixData.value&&null!=BC_PRODUCTS[f].categoryprefixData.value)var b=BC_PRODUCTS[f].categoryprefixData.value;var e=ba+"/"+multistoreSiteCode+"/servicesv2/getRelatedCategorizedProductsSimpleInfo?productCode\x3d"+f;"AEM_RAINBOW"==b&&(e=ba+"/"+multistoreSiteCode+"/servicesv2/getRelatedCategorizedProductsSimpleInfo?productCode\x3d"+
f+"\x26queryType\x3dACCESSORIES\x26categoryPrefix\x3dAEM_RAINBOW");b=v?{withCredentials:!0}:{};"Y"==hybrisJsonYn?$.ajax({url:e,type:"GET",dataType:"json",cache:!0,xhrFields:b,crossDomain:!0,timeout:1E4,beforeSend:function(){window.sg.components.bcProgressbar.show(!0)},success:function(b){0<b.length?(ja(),$.each(b,function(b,a){var g=0;p[a.category.id]={};p[a.category.id].display_name=a.category.display_name;p[a.category.id].groupCount=a.category.groupCount;p[a.category.id].products=a.products;Q(p[a.category.id].products);
$.each(p[a.category.id].products,function(d,b){d=a.category.id+"_"+b.modelcode;c[d]={};c[d].categoryId=a.category.id;c[d].categoryOrder=a.category.order;null!=a.category.display_name&&(c[d].categoryName=a.category.display_name.toLowerCase());c[d].modelcode=b.modelcode;c[d].groupCode="";c[d].price="";c[d].priceValue="";c[d].promotionPrice="";c[d].promotionPriceValue="";c[d].commercialFlag="";c[d].referenceColor="";c[d].lowestWasPrice="";c[d].lowestWasPriceValue="";c[d].usp={};b.price&&(c[d].price=
b.price);c[d].promotionPrice=b.promotionPrice?b.promotionPrice:b.price;b.priceValue&&(c[d].priceValue=b.priceValue);c[d].promotionPriceValue=b.promotionPriceValue?b.promotionPriceValue:b.priceValue;b.lowestWasPrice&&(c[d].lowestWasPrice=b.lowestWasPrice.formattedValue,c[d].lowestWasPriceValue=b.lowestWasPrice.value);b.stocklevel&&(c[d].stocklevel=b.stocklevel);b.groupCode&&(c[d].groupCode=b.groupCode);b.commercialFlag&&(c[d].commercialFlag=b.commercialFlag);b.referenceColor&&(c[d].referenceColor=
b.referenceColor);x[d]||(x[d]={});if(b.usp){for(var k=0;k<b.usp.length;k++)c[d].usp[k]=b.usp[k];x[d].usp=b.usp}k=a.category.id+"_"+b.groupCode;if("F-"==b.modelcode.substr(0,2)){ca=!0;H[b.modelcode]||(H[b.modelcode]={});if(b.imageUrl){c[d].imageUrl=b.imageUrl;var q={galleryImg:[b.imageUrl],galleryImgAlt:[""]};H[b.modelcode]=q}null!=k&&""!=k&&(k+=g,g++,B[k]=[],B[k].categoryId=a.category.id,B[k].categoryOrder=a.category.order,c[d].addOnGroupCode=k,c[d].name=b.name);N[f]=c;D[f]=B}else B[k]=[]})})):(bc_summary.moveToCart(),
window.sg.components.addOnsPage.reInit(),window.sg.components.addOnsPage.cardSlice(),window.sg.components.addOnsPage.sameHeight(),console.log("No Related Product--"))},error:function(){bc_summary.moveToCart();window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight();console.log("Related Products API Error--")},complete:function(){window.sg.components.bcProgressbar.hide();ca&&(BC_CARTDATA.addonBundleData=[]);y(f);S()}}):$.ajax({url:e,
type:"GET",dataType:"jsonp",xhrFields:b,jsonpCallback:a,cache:!0,crossDomain:!0,timeout:1E4,beforeSend:function(){window.sg.components.bcProgressbar.show(!0)},success:function(b){0<b.length?(ja(),$.each(b,function(b,a){var g=0;p[a.category.id]={};p[a.category.id].display_name=a.category.display_name;p[a.category.id].groupCount=a.category.groupCount;p[a.category.id].products=a.products;$.each(p[a.category.id].products,function(d,b){d=a.category.id+"_"+b.modelcode;c[d]={};c[d].categoryId=a.category.id;
c[d].categoryOrder=a.category.order;null!=a.category.display_name&&(c[d].categoryName=a.category.display_name.toLowerCase());c[d].modelcode=b.modelcode;c[d].groupCode="";c[d].price="";c[d].priceValue="";c[d].promotionPrice="";c[d].promotionPriceValue="";c[d].commercialFlag="";c[d].referenceColor="";c[d].vatFreePriceValue="";b.lowestWasPrice&&(c[d].lowestWasPrice=b.lowestWasPrice.formattedValue,c[d].lowestWasPriceValue=b.lowestWasPrice.value);c[d].usp={};b.price&&(c[d].price=b.price);c[d].promotionPrice=
b.promotionPrice?b.promotionPrice:b.price;b.priceValue&&(c[d].priceValue=b.priceValue);c[d].promotionPriceValue=b.promotionPriceValue?b.promotionPriceValue:b.priceValue;b.stocklevel&&(c[d].stocklevel=b.stocklevel);b.groupCode&&(c[d].groupCode=b.groupCode);b.commercialFlag&&(c[d].commercialFlag=b.commercialFlag);b.referenceColor&&(c[d].referenceColor=b.referenceColor);b.vatEligible&&(c[d].vatEligible=b.vatEligible);b.vatFreePriceValue&&(c[d].vatFreePriceValue=b.vatFreePriceValue);b.lowestWasPrice&&
(c[d].lowestWasPrice=b.lowestWasPrice);b.lowestWasPriceValue&&(c[d].lowestWasPriceValue=b.lowestWasPriceValue);x[d]||(x[d]={});if(b.usp){for(var k=0;k<b.usp.length;k++)c[d].usp[k]=b.usp[k];x[d].usp=b.usp}k=a.category.id+"_"+b.groupCode;if("F-"==b.modelcode.substr(0,2)){ca=!0;H[b.modelcode]||(H[b.modelcode]={});if(b.imageUrl){c[d].imageUrl=b.imageUrl;var q={galleryImg:[b.imageUrl],galleryImgAlt:[""]};H[b.modelcode]=q}null!=k&&""!=k&&(k+=g,g++,B[k]=[],B[k].categoryId=a.category.id,B[k].categoryOrder=
a.category.order,c[d].addOnGroupCode=k,c[d].name=b.name);N[f]=c;D[f]=B}else B[k]=[]})})):(bc_summary.moveToCart(),window.sg.components.addOnsPage.reInit(),window.sg.components.addOnsPage.cardSlice(),window.sg.components.addOnsPage.sameHeight(),console.log("No Related Product--"))},error:function(){bc_summary.moveToCart();window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight();console.log("Related Products API Error--")},complete:function(){window.sg.components.bcProgressbar.hide();
ca&&(BC_CARTDATA.addonBundleData=[]);y(f);S()}})}function V(b){var a="AEM_";void 0!=BC_PRODUCTS[b].prefixData&&""!=BC_PRODUCTS[b].prefixData.value&&null!=BC_PRODUCTS[b].prefixData.value&&(a=BC_PRODUCTS[b].prefixData.value);var f="";$("#shopParmLang").val()&&(f="\x26lang\x3d"+$("#shopParmLang").val());$.ajax({url:COMMONMETADATA.hyblisStoreDomain+"/tokocommercewebservices/v2/"+multistoreSiteCode+"/products/"+b+"/relatedCategorizedProducts?fields\x3dSIMPLE_INFO\x26queryType\x3dACCESSORIES\x26categoryPrefix\x3d"+
a+f,type:"GET",dataType:"json",cache:!0,xhrFields:v||"undefined"!==typeof isSaleApplicationCookie&&isSaleApplicationCookie?{withCredentials:!0}:{},crossDomain:!0,timeout:1E4,beforeSend:function(){window.sg.components.bcProgressbar.show(!0)},success:function(a){0<a.length?(ja(),$.each(a,function(a,f){var k=0;null!=f.category.id&&""!=f.category.id&&(p[f.category.id]={},p[f.category.id].display_name=f.category.display_name,p[f.category.id].groupCount=f.category.groupCount,p[f.category.id].products=f.products,
Q(p[f.category.id].products),$.each(p[f.category.id].products,function(a,d){a=f.category.id+"_"+d.modelcode;c[a]={};c[a].categoryId=f.category.id;c[a].categoryOrder=f.category.order;null!=f.category.display_name&&(c[a].categoryName=f.category.display_name.toLowerCase());c[a].modelcode=d.modelcode;c[a].groupCode="";c[a].price="";c[a].priceValue="";c[a].promotionPrice="";c[a].promotionPriceValue="";c[a].commercialFlag="";c[a].referenceColor="";c[a].vatFreePriceValue="";c[a].lowestWasPrice="";c[a].lowestWasPriceValue=
"";c[a].usp={};d.price&&(c[a].price=da?currencyComma(d.price.value,currency):d.price.formattedValue,c[a].priceValue=d.price.value);d.promotionPrice?(c[a].promotionPrice=da?currencyComma(d.promotionPrice.value,currency):d.promotionPrice.formattedValue,c[a].promotionPriceValue=d.promotionPrice.value):d.price&&(c[a].promotionPrice=da?currencyComma(d.price.value,currency):d.price.formattedValue,c[a].promotionPriceValue=d.price.value);d.vatEligible&&(c[a].vatEligible=d.vatEligible);d.vatFreePrice&&(c[a].vatFreePriceValue=
d.vatFreePrice.value);d.lowestWasPrice&&(c[a].lowestWasPrice=d.lowestWasPrice.formattedValue,c[a].lowestWasPriceValue=d.lowestWasPrice.value);d.stock&&(c[a].stocklevel=d.stock.stockLevelStatus);d.groupCode&&(c[a].groupCode=d.groupCode);d.commercialFlag&&(c[a].commercialFlag=d.commercialFlag);d.referenceColor&&(c[a].referenceColor=d.referenceColor);x[a]||(x[a]={});if(d.usp){for(var q=0;q<d.usp.length;q++)c[a].usp[q]=d.usp[q];x[a].usp=d.usp}q=f.category.id+"_"+d.groupCode;if("F-"==d.modelcode.substr(0,
2)){ca=!0;H[d.modelcode]||(H[d.modelcode]={});if(d.picture){c[a].imageUrl=d.picture.url;var g={galleryImg:[d.picture.url],galleryImgAlt:[""]};H[d.modelcode]=g}(d.price||d.promotionPrice)&&null!=q&&""!=q&&(q+=k,k++,B[q]=[],B[q].categoryId=f.category.id,B[q].categoryOrder=f.category.order,c[a].addOnGroupCode=q,c[a].name=d.name);N[b]=c;D[b]=B}else B[q]=[]}))})):(bc_summary.moveToCart(),window.sg.components.addOnsPage.reInit(),window.sg.components.addOnsPage.cardSlice(),window.sg.components.addOnsPage.sameHeight(),
console.log("No Related Product--"))},error:function(){bc_summary.moveToCart();window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight();console.log("Related Products API Error--")},complete:function(){window.sg.components.bcProgressbar.hide();ca&&(BC_CARTDATA.addonBundleData=[]);y(b);S()}})}function Q(b){b&&b.sort(function(b,a){return a.priority&&0!=a.priority?0==b.priority?1:b.priority-a.priority:b.priority&&0!=b.priority?-1:
0})}function y(b){var a=$("#apiStageInfo").val(),f=$("#searchDomain").val(),e=[];$.each(c,function(d,b){"F-"!=b.modelcode.substr(0,2)&&(B[b.categoryId+"_"+b.groupCode]=[],0>e.indexOf(b.modelcode)&&e.push(b.modelcode))});var m={siteCode:siteCode,modelList:e.toString(),saleSkuYN:"N",onlyRequestSkuYN:"Y"};"Y"==multiStoreYn&&(m.shopSiteCd=multistoreSiteCode);var l=v?"epp/v2":"b2c",J=f+"/"+a+"/"+l+"/product/card/detail/hybris";if("ca"==siteCode||"ca_fr"==siteCode){J=f+"/"+a+"/"+l+"/product/card/detail/global";
var g=$.cookies.get("country_region",{domain:".samsung.com"})?$.cookies.get("country_region",{domain:".samsung.com"}):"CA-ON";m.regionCode=g}"NewHybris"==BC_GROUP.storeType&&(m={siteCode:siteCode,modelList:e.toString(),commonCodeYN:"N",saleSkuYN:"N",onlyRequestSkuYN:"Y"},J=f+"/"+a+"/"+l+"/product/card/detail/newhybris");v&&(m.companyCode=$("#eppCompanyCode").val(),m.shopSkuYN="N",window.sg.epp.common.isUserGroupPricing&&(m.groupName=window.sg.epp.common.groupName),""!=window.sg.epp.common.userStoreId&&
(m.o2oId=window.sg.epp.common.userStoreId));0<e.length?$.ajax({url:J,type:"GET",data:m,dataType:"json",cache:!0,timeout:1E4,beforeSend:function(){window.sg.components.bcProgressbar.show(!0)},success:function(d){200==d.response.statusCode&&$.each(d.response.resultData.productList,function(d,b){d=b.modelList;null!=d&&0<d.length&&$.each(d,function(d,b){$.each(c,function(d,a){if(-1<d.indexOf(b.modelCode)){c[d]||(c[d]={});H[b.modelCode]||(H[b.modelCode]={});a=c[d].categoryId+"_"+c[d].groupCode;"F-"==b.modelCode.substr(0,
2)||""==c[d].price&&""==c[d].promotionPrice||null==a||""==a||(B[a].categoryId=c[d].categoryId,B[a].categoryOrder=c[d].categoryOrder,c[d].addOnGroupCode=a);null!=b.fmyChipList&&0<b.fmyChipList.length&&(b.fmyChipList[0]&&(c[d].optionType=b.fmyChipList[0].fmyChipType,c[d].optionCode=b.fmyChipList[0].fmyChipCode,c[d].optionEngName=b.fmyChipList[0].fmyChipName,c[d].optionName=b.fmyChipList[0].fmyChipLocalName),c[d].fmyChipList=b.fmyChipList);if(null==c[d].name||""==c[d].name)c[d].name=b.displayName?b.displayName:
"";if(null==c[d].price||""==c[d].price)da?b.price&&(c[d].price=b.price):b.priceDisplay&&(c[d].price=b.priceDisplay);if(null==c[d].promotionPrice||""==c[d].promotionPrice)da?b.promotionPriceValue&&(c[d].promotionPriceValue=b.promotionPriceValue):c[d].promotionPrice=b.promotionPriceDisplay?b.promotionPriceDisplay:b.priceDisplay;null!=c[d].priceValue&&""!=c[d].priceValue||!b.price||(c[d].priceValue=b.price);if(null==c[d].promotionPriceValue||""==c[d].promotionPriceValue)c[d].promotionPriceValue=b.promotionPrice?
b.promotionPrice:b.price;b.thumbUrl&&(c[d].imageUrl=b.thumbUrl);b.thumbUrlAlt&&(c[d].imageUrlAlt=b.thumbUrlAlt);b.modelName&&(c[d].modelname=b.modelName);null!=b.galleryImage&&0<b.galleryImage.length?(b.thumbUrl&&0>b.galleryImage.indexOf(b.thumbUrl)&&b.galleryImage.unshift(b.thumbUrl),H[b.modelCode].galleryImg=b.galleryImage):b.thumbUrl&&(zoomGalleryInfo={galleryImg:[b.thumbUrl],galleryImgAlt:[b.thumbUrlAlt]},H[b.modelCode]=zoomGalleryInfo);null!=b.galleryImageAlt&&0<b.galleryImageAlt.length&&(b.thumbUrlAlt&&
0>b.galleryImageAlt.indexOf(b.thumbUrlAlt)&&b.galleryImageAlt.unshift(b.thumbUrlAlt),H[b.modelCode].galleryImgAlt=b.galleryImageAlt);x[b.modelCode]||(x[b.modelCode]={});if(null!=b.usp&&0<b.usp.length){for(a=0;a<b.usp.length;a++)c[d].usp[a]=b.usp[a];x[b.modelCode].usp=b.usp}w[b.modelCode]||(w[b.modelCode]={});null!=b.pdpUrl&&(c[d].pdpUrl=b.pdpUrl,w[b.modelCode].pdpUrl=b.pdpUrl)}})})});N[b]=c;D[b]=B},error:function(){bc_summary.moveToCart();console.log("Search API Error--")},complete:function(){0<Object.keys(p).length&&
(Y(b),h(b));BC_MODEL.isVoucher?_satellite.setVar("Add Page Name","evoucher"):_satellite.setVar("Add Page Name","add on");_satellite.track("page view");window.sg.components.bcProgressbar.hide()}}):(Y(b),h(b))}function Y(b){var a=[];K=[];$.each(D[b],function(b,f){null!=f.categoryId&&void 0!=f.categoryId&&0>K.indexOf(f.categoryId)&&(a={categoryId:f.categoryId,categoryOrder:f.categoryOrder},K.push(f.categoryId),Z.push(a))});Z.sort(function(b,a){return("null"===b.categoryOrder)-("null"===a.categoryOrder)||
+(parseInt(b.categoryOrder)>parseInt(a.categoryOrder))||-(parseInt(b.categoryOrder)<parseInt(a.categoryOrder))});K=[];for(var f=0;f<Z.length;f++)K.push(Z[f].categoryId);$.each(K,function(b,a){p[a].groupCount=0});var c=[];$.each(N[b],function(b,a){void 0!=a.addOnGroupCode&&""!=a.addOnGroupCode&&null!=a.addOnGroupCode&&-1<K.indexOf(a.categoryId)&&0>c.indexOf(a.addOnGroupCode)&&(c.push(a.addOnGroupCode),p[a.categoryId].groupCount+=1)});var e="";$.each(K,function(b,a){b=0===b;null!=p[a].display_name&&
(e+='\t\t\t\t\t\t\x3cli class\x3d"hubble-addon-page__category-item swiper-slide"\x3e',e+='\t\t\t\t\t\t\t\x3ca href\x3d"javascript:;" role\x3d"button" data-category-title\x3d"'+p[a].display_name+'" '+(b?'title\x3d"selected"':"")+' class\x3d"s-category-link'+(b?" is-active":"")+'" data-category-id\x3d"'+a+'" an-tr\x3d"bridge_'+z+"-"+bcPageTrack()+'-option-select" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+u+":"+p[a].display_name.toLowerCase()+':tab"\x3e',e+='\t\t\t\t\t\t\t\t\x3cspan class\x3d"s-category-text"\x3e'+
p[a].display_name+"\x3cspan\x3e"+("Y"==$("#bvRTLFlag").val()?"\x26rlm;":"")+"("+p[a].groupCount+")"+("Y"==$("#bvRTLFlag").val()?"\x26rlm;":"")+"\x3c/span\x3e\x3c/span\x3e",e+="\t\t\t\t\t\t\t\x3c/a\x3e",e+="\t\t\t\t\t\t\x3c/li\x3e")});$("#addonCategories").append(e);window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight();setTimeout(function(){window.sg.common.utils.setFocusFirstFocusableEl(document.querySelector("#content__addon"))},
300)}function h(b){$(".hubble-addon-page__list").remove();$(".hubble-addon-page__category-item .s-category-link").each(function(){$(this).hasClass("is-active")&&(t=$(this).attr("data-category-id"))});if(N[b]){var c=0;$.each(N[b],function(a,d){a=d.categoryId+"_"+d.groupCode;d.groupCode&&d.name&&d.price&&("F-"!=d.modelcode.substr(0,2)?t==d.categoryId?isNotEmpty(D[b][a])?d.optionCode&&D[b][a].push(d):D[b][a].push(d):D[b][a]=[]:t==d.categoryId?(a+=c,null!=d.addOnGroupCode&&""!=d.addOnGroupCode?(D[b][d.addOnGroupCode]=
[],D[b][d.addOnGroupCode].push(d)):(D[b][a]=[],D[b][a].push(d)),c++):(c=0,null!=d.addOnGroupCode&&""!=d.addOnGroupCode?D[b][d.addOnGroupCode]=[]:D[b][a+c]=[]))});$.each(D[b],function(b,d){d.groupOptionChips={};$.each(d,function(b,a){if(0<d.length&&a.stocklevel&&null!=a.fmyChipList&&0<a.fmyChipList.length){var f=a.modelcode;a.productOptionChips={};$.each(a.fmyChipList,function(b,a){b=a.fmyChipType;var c=a.fmyChipCode,k=a.fmyChipName;a=a.fmyChipLocalName;null!=b&&""!=b&&-1<b.indexOf("SIZE")&&(b="MOBILE MEMORY");
null==d.groupOptionChips[b]&&(d.groupOptionChips[b]={});null!=c&&""!=c&&(null==d.groupOptionChips[b][c]&&(d.groupOptionChips[b][c]={},d.groupOptionChips[b][c].fmyChipType=b,d.groupOptionChips[b][c].fmyChipCode=c,d.groupOptionChips[b][c].fmyChipName=k,d.groupOptionChips[b][c].fmyChipLocalName=a,null==d.groupOptionChips[b][c].productList&&(d.groupOptionChips[b][c].productList=[])),d.groupOptionChips[b][c].productList.push(f))})}})});var f="",e=1;f+='            \x3cdiv class\x3d"hubble-addon-page__list"\x3e';
f+='                \x3cdiv class\x3d"hubble-addon-page__list-inner list-four-center"\x3e';var w="";"cn"==siteCode&&(w='data-gs-flag\x3d"GetStock"');var X=!1;$.each(D[b],function(b,d){for(b=0;b<d.length;b++){var c=d[b];X=t==c.categoryId?!0:!1;W.push(addOnsImgDomain(c.imageUrl))}for(i=0;i<W.length;i++)ka[i]=new Image,ka[i].src=W[i];if(X&&d[0]){var k=-1,g=d[0].modelcode;b=d[0].stocklevel;$.each(d,function(b,d){"outofstock"!=d.stocklevel.toLowerCase()&&-1==k&&(k=b,g=d.modelcode)});-1==k&&(k=0);b=d[k].stocklevel;
var q=!1;"F-"==d[0].modelcode.substr(0,2)?void 0!=BC_CARTDATA.addonBundleData&&0<BC_CARTDATA.addonBundleData.length&&$.each(BC_CARTDATA.addonBundleData,function(b,a){if(a.addonBundleCode==d[0].modelcode)return q=!0,!1}):void 0!=BC_CARTDATA.addonData&&0<BC_CARTDATA.addonData.length&&$.each(BC_CARTDATA.addonData,function(b,a){if(a.addonModelCode==d[k].modelcode)return q=!0,!1});isNotEmpty(d[k].price);isNotEmpty(d[k].promotionPrice);c=isNotEmpty(d[k].priceValue)?parseFloat(d[k].priceValue):null;var J=
isNotEmpty(d[k].promotionPriceValue)?parseFloat(d[k].promotionPriceValue):c;isNotEmpty(d[k].lowestWasPrice);var h=isNotEmpty(d[k].lowestWasPriceValue)?parseFloat(d[k].lowestWasPriceValue):null,R=isNotEmpty(d[k].vatEligible)?d[k].vatEligible:null,ha=isNotEmpty(d[k].vatFreePriceValue)?parseFloat(d[k].vatFreePriceValue):null,v=d[k].imageUrl,p="";d[k].imageUrl&&""!=d[k].imageUrl&&(p=v.substring(0,8));if(""===v||"/medias/"==p)v="/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg";v&&"/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg"!=
v&&"/medias/"!=p&&(v=addOnsImgDomain(v));p=d[k].imageUrlAlt?d[k].imageUrlAlt:"";var x=isNotEmpty(d[k].referenceColor)?d[k].referenceColor:"#00838F",r=d[k].commercialFlag;f+='                    \x3cdiv class\x3d"hubble-addon-page__item';"outofstock"==b.toLowerCase()&&"Y"==realTimeApiUse?f+=" is-disabled":q&&(f+=" is-selected");f+='"\x3e';f+='                        \x3cdiv class\x3d"hubble-addon-page__item-inner"\x3e';f+='                            \x3cdiv class\x3d"hubble-item-card"\x3e';f+='                                \x3cdiv class\x3d"hubble-item-card__img"\x3e';
f+='\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"hubble-item-card--badge"\x3e';null!=x&&""!=x&&null!=r&&""!=r&&(f+='\t\t\t\t\t\t\t\t\t\t\x3cspan class\x3d"badge-icon  badge-icon--label" style\x3d"background:'+x+'"\x3e',f+=r,f+="\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e");f+="\t\t\t\t\t\t\t\t\t\x3c/div\x3e";f+="                                    \x3cpicture\x3e";f+='                                        \x3cdiv class\x3d"image"\x3e';f+='                                            \x3cimg class\x3d"image__preview lazy-load responsive-img" data-desktop-src\x3d"'+
v+'" data-mobile-src\x3d"'+v+'" alt\x3d"'+p+'" aria-hidden\x3d"true"\x3e';f+='                                            \x3cimg class\x3d"image__main lazy-load responsive-img" data-desktop-src\x3d"'+v+'" data-mobile-src\x3d"'+v+'" alt\x3d"'+p+'"\x3e';f+="                                        \x3c/div\x3e";f+="                                    \x3c/picture\x3e";f+='                                    \x3ca href\x3d"javascript:;" class\x3d"hubble-pd-popup-opener zoom-popup-opener" an-tr\x3d"bridge_add on-'+
bcPageTrack()+'-option_click3" an-ca\x3d"option click" an-ac\x3d"bridge"';f=BC_MODEL.isVoucher?f+'an-la\x3d"evoucher:image click"':f+'an-la\x3d"add-on:image click"';f+=' data-modelcode\x3d"'+d[0].modelcode+'" data-modelname\x3d"'+d[0].modelname+'" data-modeldisplay\x3d"'+d[0].name+'"\x3e\x3cspan class\x3d"blind"\x3e"'+d[0].modelname+'"\x3c/span\x3e\x3c/a\x3e';f+="                                \x3c/div\x3e";f+='                                \x3cdiv class\x3d"hubble-item-card__content"\x3e';f+=
'                                    \x3cdiv class\x3d"hubble-item-card__product"\x3e';f+='                                        \x3cstrong class\x3d"s-txt-title"\x3e'+d[k].name+"\x3c/strong\x3e";f+="                                    \x3c/div\x3e";f+='                                    \x3cdiv class\x3d"hubble-item-card__option-wrap"\x3e';"F-"!=d[0].modelcode.substr(0,2)&&(null!=d.groupOptionChips.COLOR&&(f+=n(d.groupOptionChips.COLOR,"COLOR",d,k,g)),null!=d.groupOptionChips["MOBILE MEMORY"]&&
(f+=n(d.groupOptionChips["MOBILE MEMORY"],"MOBILE MEMORY",d,k,g)),null!=d.groupOptionChips["MEMORY MEMORY"]&&(f+=n(d.groupOptionChips["MEMORY MEMORY"],"MEMORY MEMORY",d,k,g)),null!=d.groupOptionChips["PC STORAGE"]&&(f+=n(d.groupOptionChips["PC STORAGE"],"PC STORAGE",d,k,g)));f+="                                    \x3c/div\x3e";f+="                                \x3c/div\x3e";f+='                                \x3cdiv class\x3d"hubble-item-card__price"\x3e';f+=ia(c,J,h,R,ha);f+="                                \x3c/div\x3e";
f+='                                \x3cdiv class\x3d"hubble-item-card__cta"\x3e';f+='                                    \x3cdiv class\x3d"hubble-item-card__cta-inner"\x3e';f+='                                        \x3cdiv class\x3d"s-cta-wrap"\x3e';h="-cta-add";R="-option-select";"add-on"===u&&(h="-cta-option",R="-cta-buy stock button");"cn"==siteCode&&d[0].isComingSoon&&(w='data-gs-flag\x3d"ComingSoon"',T=Granite.I18n.get("Coming Soon Title",null,i18n_hint));"outofstock"==b.toLowerCase()?"F-"==
d[0].modelcode.substr(0,2)?q?(f+='                                            \x3cbutton type\x3d"button" class\x3d"s-btn-encased" data-mo-code\x3d"'+d[0].modelcode+'" data-mo-name\x3d"'+d[0].modelname+'" data-mo-categoryId\x3d"'+d[0].categoryId+'" data-originalprice\x3d"'+I+'" data-saveprice\x3d"'+A+'" data-totalprice\x3d"'+G+'" an-tr\x3d"bridge_'+z+"-"+bcPageTrack()+h+'" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+u+':add item" data-modelcode\x3d"'+d[0].modelcode+'" data-modelname\x3d"'+
d[0].modelname,1==BC_MODEL.vatEligible&&(f+='"data-sumprice \x3d"'+c+'"data-sumpromotionprice \x3d"'+J),F&&(f+='" data-rrpprice \x3d"'+a+'" data-lowestprice \x3d"'+l),f+='"\x3e\x3cspan class\x3d"s-cta-text"\x3e'+Granite.I18n.get("Added",null,i18n_hint)+'\x3c/span\x3e\x3cspan class\x3d"blind"\x3e\x3cspan class\x3d"name"\x3e'+m+" "+d[0].name+"\x3c/span\x3e\x3c/span\x3e\x3c/button\x3e"):(f+='                                            \x3cbutton data-layer-target\x3d"#hubble-addon-bundle-layer" type\x3d"button" class\x3d"s-btn-encased hubble-pd-popup-opener" data-mo-bundle-name\x3d"'+
d[0].name+'" data-mo-code\x3d"'+d[0].modelcode+'" data-mo-name\x3d"'+d[0].modelname+'" data-mo-categoryId\x3d"'+d[0].categoryId+'" data-originalprice\x3d"'+I+'" data-saveprice\x3d"'+A+'" data-totalprice\x3d"'+G,1==BC_MODEL.vatEligible&&(f+='"data-sumprice \x3d"'+c+'"data-sumpromotionprice \x3d"'+J),F&&(f+='" data-rrpprice \x3d"'+a+'" data-lowestprice \x3d"'+l),f+='" an-tr\x3d"bridge_'+z+"-"+bcPageTrack()+h+'" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+u+':add item" data-modelcode\x3d"'+
d[0].modelcode+'" data-modelname\x3d"'+d[0].modelname+'"\x3e\x3cspan class\x3d"s-cta-text"\x3e'+Granite.I18n.get("Add",null,i18n_hint)+'\x3c/span\x3e\x3cspan class\x3d"blind"\x3e\x3cspan class\x3d"name"\x3e'+m+" "+d[0].name+"\x3c/span\x3e\x3c/span\x3e\x3c/button\x3e"):f="Y"!=realTimeApiUse?f+('                                            \x3cbutton type\x3d"button" class\x3d"s-btn-encased s-out" data-mo-code\x3d"'+d[k].modelcode+'" data-mo-name\x3d"'+d[k].modelname+'" data-modelcode\x3d"'+d[k].modelcode+
'" data-modelname\x3d"'+d[k].modelname+'"an-tr\x3d"bridge_'+z+"-"+bcPageTrack()+R+'" an-ca\x3d"buy cta" an-ac\x3d"stock alert'+("add-on"===u?"":":"+T)+'" an-la\x3d"'+u+':stock alert" '+w+'\x3e\x3cspan class\x3d"s-cta-text"\x3e'+T+'\x3c/span\x3e\x3cspan class\x3d"blind"\x3e\x3cspan class\x3d"name"\x3e'+m+" "+d[k].name+"\x3c/span\x3e\x3c/span\x3e\x3c/button\x3e"):f+('                                            \x3cbutton type\x3d"button" class\x3d"s-btn-encased" disabled\x3d"disabled"\x3e\x3cspan class\x3d"s-cta-text"\x3e'+
T+'\x3c/span\x3e\x3cspan class\x3d"blind"\x3e\x3cspan class\x3d"text"\x3eDelete\x3c/span\x3e\x3cspan class\x3d"name"\x3e'+d[k].name+"\x3c/span\x3e\x3c/span\x3e\x3c/button\x3e"):"cn"==siteCode&&d[0].isComingSoon?f+='                                            \x3cbutton type\x3d"button" class\x3d"s-btn-encased s-out" data-mo-code\x3d"'+d[k].modelcode+'" data-mo-name\x3d"'+d[k].modelname+'" data-modelcode\x3d"'+d[k].modelcode+'" data-modelname\x3d"'+d[k].modelname+'"an-tr\x3d"bridge_'+z+"-"+bcPageTrack()+
R+'" an-ca\x3d"buy cta" an-ac\x3d"stock alert'+("add-on"===u?"":":"+T)+'" an-la\x3d"'+u+':stock alert" '+w+'\x3e\x3cspan class\x3d"s-cta-text"\x3e'+T+'\x3c/span\x3e\x3cspan class\x3d"blind"\x3e\x3cspan class\x3d"name"\x3e'+m+" "+d[k].name+"\x3c/span\x3e\x3c/span\x3e\x3c/button\x3e":q?(f+='                                            \t\t\x3cbutton type\x3d"button" class\x3d"s-btn-encased" data-mo-code\x3d"'+d[k].modelcode+'" data-mo-name\x3d"'+d[k].modelname+'" data-mo-categoryId\x3d"'+d[k].categoryId+
'" data-originalprice\x3d"'+I+'" data-saveprice\x3d"'+A+'" data-totalprice\x3d"'+G,1==BC_MODEL.vatEligible&&(f+='"data-sumprice \x3d"'+c+'"data-sumpromotionprice \x3d"'+J),F&&(f+='" data-rrpprice \x3d"'+a+'" data-lowestprice \x3d"'+l),f+='" an-tr\x3d"bridge_'+z+"-"+bcPageTrack()+h+'" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+u+':add item" data-modelcode\x3d"'+d[k].modelcode+'" data-modelname\x3d"'+d[k].modelname+'"\x3e\x3cspan class\x3d"s-cta-text"\x3e'+Granite.I18n.get("Added",null,i18n_hint)+
'\x3c/span\x3e\x3cspan class\x3d"blind"\x3e\x3cspan class\x3d"name"\x3e'+m+" "+d[k].name+"\x3c/span\x3e\x3c/span\x3e\x3c/button\x3e"):(f="F-"==d[0].modelcode.substr(0,2)?f+('                                            \x3cbutton data-layer-target\x3d"#hubble-addon-bundle-layer" type\x3d"button" class\x3d"s-btn-encased hubble-pd-popup-opener" data-mo-bundle-name\x3d"'+d[k].name+'" data-mo-code\x3d"'+d[k].modelcode+'" data-mo-name\x3d"'+d[k].modelname+'" data-mo-categoryId\x3d"'+d[k].categoryId+'" data-originalprice\x3d"'+
I+'" data-saveprice\x3d"'+A+'" data-totalprice\x3d"'+G):f+('                                            \x3cbutton type\x3d"button" class\x3d"s-btn-encased" data-mo-code\x3d"'+d[k].modelcode+'" data-mo-name\x3d"'+d[k].modelname+'" data-mo-categoryId\x3d"'+d[k].categoryId+'" data-originalprice\x3d"'+I+'" data-saveprice\x3d"'+A+'" data-totalprice\x3d"'+G),1==BC_MODEL.vatEligible&&(f+='"data-sumprice \x3d"'+c+'"data-sumpromotionprice \x3d"'+J),F&&(f+='" data-rrpprice \x3d"'+a+'" data-lowestprice \x3d"'+
l),f+='" an-tr\x3d"bridge_'+z+"-"+bcPageTrack()+h+'" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+u+':add item" data-modelcode\x3d"'+d[k].modelcode+'" data-modelname\x3d"'+d[k].modelname+'"\x3e\x3cspan class\x3d"s-cta-text"\x3e'+Granite.I18n.get("Add",null,i18n_hint)+'\x3c/span\x3e\x3cspan class\x3d"blind"\x3e\x3cspan class\x3d"name"\x3e'+m+" "+d[k].name+"\x3c/span\x3e\x3c/span\x3e\x3c/button\x3e");f+="                                        \x3c/div\x3e";f+="                                    \x3c/div\x3e";
f+="                                \x3c/div\x3e";f+='\t\t\t\t\t\t\t\t\x3cdiv class\x3d"hubble-item-card__message"\x3e';BC_MODEL.isVoucher||$.each(BC_MODEL.fbtData,function(b,a){a.addonModelCode==d[0].modelcode&&(f+='\t\t\t\t\t\t\t\x3cspan class\x3d"s-default-text"\x3e',f+=Granite.I18n.get("This product is already added to cart",null,i18n_hint),f+=" \t\t\t\t\t\t\x3c/span\x3e")});f+=" \t\t\t\t\t\t\t\t\x3c/div\x3e";f+="                            \x3c/div\x3e";f+="                        \x3c/div\x3e";
f+="                    \x3c/div\x3e";e++}});f+="                \x3c/div\x3e";f+="            \x3c/div\x3e";""!=f?$(".hubble-addon-page__inner").append(f):$("#content__addon").hide();var J=[];$(".hubble-addon-page .hubble-addon-page__list .hubble-addon-page__item .hubble-item-card__cta").each(function(){"F-"==$(this).find("button").attr("data-mo-code").substr(0,2)&&J.push($(this).find("button").attr("data-mo-code"))});bc_addon_page_bundle.getRelatedProductsSimpleInfo(J);window.sg.components.addOnsPage.reInit(!1);
window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight();setTimeout(function(){window.sg.components.addOnsPage.stickyNavi()},300)}}function n(b,a,c,e,l){var f=null!=c[e].priceValue&&""!=c[e].priceValue?c[e].priceValue:null,k=null!=c[e].promotionPriceValue&&""!=c[e].promotionPriceValue?c[e].promotionPriceValue:priceValue,g="";if("COLOR"==a)m=c[e].optionName,g+='\x3cdiv class\x3d"option-selector option-selector__color-text hubble-item-card__option-color"\x3e',g+='\t\x3cdiv class\x3d"option-selector__color-name"\x3e'+
Granite.I18n.get("Color",null,i18n_hint),g="iq_ar"==siteCode||"iq_ku"==siteCode||"sa"==siteCode?g+":\x26nbsp":g+" : ",g+='\x3cspan class\x3d"color-name-text"\x3e'+c[e].optionName+"\x3c/span\x3e\x3c/div\x3e",g+='\t\x3cdiv class\x3d"option-selector__wrap option-selector__wrap--color-chip" data-desktop-view\x3d"5" data-mobile-view\x3d"4"\x3e';else if("MOBILE MEMORY"==a||"MEMORY MEMORY"==a||"PC STORAGE"==a)g+='\x3cdiv class\x3d"option-selector hubble-item-card__option-memory"\x3e',g+='\t\x3cdiv class\x3d"option-selector__wrap option-selector__wrap--capacity" data-desktop-view\x3d"2" data-mobile-view\x3d"2"\x3e';
g+='\t\t\x3cdiv class\x3d"option-selector__swiper"\x3e';g+='\t\t\t\x3cdiv class\x3d"option-selector__swiper-container"\x3e';g+='\t\t\t\t\x3cdiv class\x3d"option-selector__swiper-wrapper" role\x3d"list"\x3e';$.each(b,function(b,m){var d="",w="";$.each(c[e].fmyChipList,function(b,a){if("COLOR"==a.fmyChipType)d=a.fmyChipCode;else if("MOBILE MEMORY"==a.fmyChipType||"MEMORY MEMORY"==a.fmyChipType||"PC STORAGE"==a.fmyChipType)w=a.fmyChipCode});var q="";-1<m.productList.indexOf(l)?$.each(c,function(b,a){if(a.modelcode==
l)return q=a,!1}):$.each(c,function(b,a){$.each(a.fmyChipList,function(b,d){b=d.fmyChipType;null!=b&&""!=b&&-1<b.indexOf("SIZE")&&(b="MOBILE MEMORY");if(m.fmyChipCode==d.fmyChipCode&&m.fmyChipType==b)return q=a,!1})});b="";q.modelcode!=l&&""!=d&&""!=w&&null!=c.groupOptionChips.COLOR&&(b=!0,-1<c.groupOptionChips.COLOR[d].productList.indexOf(l)&&(b=!1));var J=!1;q.modelcode==l&&(J=!0);var t=!1;"F-"==q.modelcode.substr(0,2)?void 0!=BC_CARTDATA.addonBundleData&&0<BC_CARTDATA.addonBundleData.length&&$.each(BC_CARTDATA.addonBundleData,
function(b,a){if(a.addonBundleCode==q.modelcode)return t=!0,!1}):void 0!=BC_CARTDATA.addonData&&0<BC_CARTDATA.addonData.length&&$.each(BC_CARTDATA.addonData,function(b,a){if(a.addonModelCode==q.modelcode)return t=!0,!1});var X=m.fmyChipCode,h=m.fmyChipType,v=m.fmyChipName,la=m.fmyChipLocalName;if("COLOR"==a)g+='\x3cspan class\x3d"option-selector__swiper-slide hubble-item-card__option-color-item';else if("MOBILE MEMORY"==a||"MEMORY MEMORY"==a||"PC STORAGE"==a)g+='\x3cspan class\x3d"option-selector__swiper-slide hubble-item-card__option-memory-item';
var R=q.imageUrlAlt?q.imageUrlAlt:"";g+='" role\x3d"listitem"';g+=' data-category\x3d"'+q.categoryName+'" data-mo-categoryId\x3d"'+q.categoryId+'" data-mo-code\x3d"'+q.modelcode+'" data-mo-name\x3d"'+q.modelname+'" data-imgAlt\x3d"'+R+'"  data-mo-referencecolor\x3d"'+q.referenceColor+'" data-mo-commercialflag \x3d"'+q.commercialFlag+'"';g+=' data-name\x3d"'+escapeHtml(q.name)+'" data-imgpath\x3d"'+q.imageUrl+'" ';g+=' data-groupCode\x3d"'+q.groupCode+'"';g+=' data-fmyChipCode\x3d"'+escapeHtml(X)+
'"';g+=' data-fmychipType\x3d"'+h+'"';R=q.price;var p=q.promotionPrice,n=q.lowestWasPrice,ha=q.priceValue,x=q.promotionPriceValue,r=q.lowestWasPriceValue,W=q.vatEligible,H=q.vatFreePriceValue;g+=' data-apiPrice\x3d"'+R+'" ';""!=p&&p&&p!=R&&(g+=' data-apiPromotionPrice\x3d"'+p+'" ');g+=' data-apiPriceValue\x3d"'+ha+'" ';""!=x&&x&&x!=ha?(g+=' data-apiPromotionPriceValue\x3d"'+x+'" ',Number.isInteger(parseFloat(f))&&Number.isInteger(parseFloat(k)),ea(ha,x,r,W,H),g+=' data-apiSavePriceValue\x3d"'+A+'" '):
g+=' data-apiSavePriceValue\x3d""';g+=' data-apiTotalPriceValue\x3d"'+G+'" ';isNotEmpty(r)&&r&&(g+=' data-apiLowestWasPrice\x3d"'+n+'" ',g+=' data-apiLowestWasPriceValue\x3d"'+r+'" ');isNotEmpty(H)&&(g+=' data-apiVatEligible\x3d"'+W+'" ',g+=' data-apiVatFreePriceValue\x3d"'+H+'" ');g+="\x3e";if("COLOR"==a)g+='\t\t\x3cspan class\x3d"option-selector__color hubble-pd-radio s-type-color js-radio-wrap',J&&(g+=" iss-checked"),"F-"!=q.modelcode.substr(0,2)&&"outofstock"==q.stocklevel.toLowerCase()&&(g+=
" is-item-disabled"),g+='"\x3e',g+='\t\t\t\x3cinput type\x3d"radio" id\x3d"addon-color_'+q.groupCode+"_"+X.replace(/#/g,"")+'" name\x3d"addon-color_'+q.groupCode+'" class\x3d"hubble-pd-radio__input',t&&(g+=" is-item-added"),g+='"',g+=' data-groupCode\x3d"'+q.groupCode+'"',g+=' data-fmyChipCode\x3d"'+m.fmyChipCode+'"',g+=' data-fmychipType\x3d"'+m.fmyChipType+'"',g="add-on"===u?g+(' an-tr\x3d"bridge_'+z+"-"+bcPageTrack()+'-text-option" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+u+":"+h.toLowerCase()+
":"+v.toLowerCase()+'" data-modelcode\x3d"'+q.modelcode+'" data-modelname\x3d"'+q.modelname+'"'):g+(' an-tr\x3d"bridge_'+z+"-"+bcPageTrack()+'-option-select" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+u+":"+h.toLowerCase()+":"+v.toLowerCase()+'" data-modelcode\x3d"'+q.modelcode+'" data-modelname\x3d"'+q.modelname+'"'),J&&(g+=" checked\x3dchecked"),g+="\x3e",g+='\t\t\t\x3clabel for\x3d"addon-color_'+q.groupCode+"_"+X.replace(/#/g,"")+'" class\x3d"hubble-pd-radio__label"\x3e',g+='\t\t\t\t\x3cspan class\x3d"option-selector__color-code" style\x3d"background-color:'+
X+'"\x3e',g+="    \t\t\t\x3c/span\x3e",g+='\t\t\t\t\x3cspan class\x3d"hidden"\x3e'+la+"\x3c/span\x3e",g+="\t\t\t\x3c/label\x3e",g+="\t\t\x3c/span\x3e",g+="\x3c/span\x3e";else if("MOBILE MEMORY"==a||"MEMORY MEMORY"==a||"PC STORAGE"==a)g+='\t\t\x3cspan class\x3d"option-selector__size hubble-pd-radio js-radio-wrap',J&&(g+=" iss-checked"),b&&(g+=" is-disabled"),"F-"!=q.modelcode.substr(0,2)&&"outofstock"==q.stocklevel.toLowerCase()&&(g+=" is-item-disabled"),g+='"\x3e',g+='\t\t\t\x3cinput type\x3d"radio" id\x3d"addon-memory_'+
q.groupCode+"_"+(null!=m.fmyChipCode&&""!=m.fmyChipCode?escapeHtml(m.fmyChipCode).replace(" ",""):"")+'" name\x3d"addon-memory_'+q.groupCode+"_"+(null!=m.fmyChipCode&&""!=m.fmyChipCode?escapeHtml(m.fmyChipCode).replace(" ",""):"")+'" class\x3d"hubble-pd-radio__input',t&&(g+=" is-item-added"),g+='"',g+=' data-groupCode\x3d"'+q.groupCode+'"',g+=' data-fmychipType\x3d"'+h+'"',g+=' data-fmyChipCode\x3d"'+escapeHtml(m.fmyChipCode)+'"',g="add-on"===u?g+(' an-tr\x3d"bridge_'+z+"-"+bcPageTrack()+'-text-option" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+
u+":"+h.toLowerCase()+":"+v.toLowerCase()+'" data-modelcode\x3d"'+q.modelcode+'" data-modelname\x3d"'+q.modelname+'"'):g+(' an-tr\x3d"bridge_'+z+"-"+bcPageTrack()+'-option-select" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+u+":"+h.toLowerCase()+":"+v.toLowerCase()+'" data-modelcode\x3d"'+q.modelcode+'" data-modelname\x3d"'+q.modelname+'"'),J&&(g+=" checked\x3dchecked"),b&&(g+=" disabled"),g+="\x3e",g+='\t\t\t\x3clabel for\x3d"addon-memory_'+q.groupCode+"_"+(null!=m.fmyChipCode&&""!=m.fmyChipCode?
escapeHtml(m.fmyChipCode).replace(" ",""):"")+'" class\x3d"option-selector__size-label hubble-pd-radio__label"\x3e\x3cspan class\x3d"option-selector__size-label-text s-label-text"\x3e'+v+"\x3c/span\x3e\x3c/label\x3e",g+="\t\t\x3c/span\x3e",g+="\x3c/span\x3e"});if("MOBILE MEMORY"==a||"MEMORY MEMORY"==a||"PC STORAGE"==a)g+='\x3cdiv class\x3d"option-selector__floating-bar" style\x3d"display: none;"\x3e\x3c/div\x3e';g+="\t\t\t\t\x3c/div\x3e";g+="\t\t\t\x3c/div\x3e";g+='\t\t\t\x3cbutton type\x3d"button" class\x3d"option-selector__button-prev" aria-label\x3d"'+
Granite.I18n.get("Previous",null,i18n_hint)+'" role\x3d"button" aria-disabled\x3d"true"\x3e';g+='\t\t\t\t\x3cspan class\x3d"hidden"\x3e'+Granite.I18n.get("Previous",null,i18n_hint)+"\x3c/span\x3e";g+='\t\t\t\t\x3csvg class\x3d"icon" focusable\x3d"false" aria-hidden\x3d"true"\x3e';g+='\t\t\t\t\t\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#previous-regular"\x3e\x3c/use\x3e';g+="\t\t\t\t\x3c/svg\x3e";g+="\t\t\t\x3c/button\x3e";
g+='\t\t\t\x3cbutton type\x3d"button" class\x3d"option-selector__button-next" aria-label\x3d"'+Granite.I18n.get("Next",null,i18n_hint)+'" role\x3d"button" aria-disabled\x3d"true"\x3e';g+='\t\t\t\t\x3cspan class\x3d"hidden"\x3e'+Granite.I18n.get("Next",null,i18n_hint)+"\x3c/span\x3e";g+='\t\t\t\t\x3csvg class\x3d"icon" focusable\x3d"false" aria-hidden\x3d"true"\x3e';g+='\t\t\t\t\t\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#next-regular"\x3e\x3c/use\x3e';
g+="\t\t\t\t\x3c/svg\x3e";g+="\t\t\t\x3c/button\x3e";g+="\t\t\x3c/div\x3e";g+="\t\x3c/div\x3e";return g+="\x3c/div\x3e"}function E(b,a,c,e){var f=a.price,k=a.promotionPrice,m=a.priceValue,g=a.promotionPriceValue,d=a.lowestWasPrice,q=a.lowestWasPriceValue,l=a.vatEligible,w=a.vatFreePriceValue;"F-"!=a.modelcode.substr(0,2)&&"outofstock"==a.stocklevel.toLowerCase()?b.find(".hubble-pd-radio.js-radio-wrap").addClass("is-item-disabled"):b.find(".hubble-pd-radio.js-radio-wrap").removeClass("is-item-disabled");
b.attr("data-mo-code",a.modelcode).attr("data-imgalt",a.imageUrlAlt?a.imageUrlAlt:"").attr("data-name",escapeHtml(a.name)).attr("data-imgPath",a.imageUrl).attr("data-apiprice",f);b.find(".hubble-pd-radio.js-radio-wrap").attr("data-mo-code",a.modelcode).attr("data-imgalt",a.imageUrlAlt?a.imageUrlAlt:"").attr("data-name",escapeHtml(a.name)).attr("data-imgPath",a.imageUrl).attr("data-apiprice",f);""!=k&&k&&k!=f&&(b.attr("data-apiPromotionPrice",k),b.find(".hubble-pd-radio.js-radio-wrap").attr("data-apiPromotionPrice",
k));""!=d&&d&&d<=f&&d>k&&(b.attr("data_apiLowestWasPrice",d),b.find(".hubble-pd-radio.js-radio-wrap").attr("data_apiLowestWasPrice",d));b.attr("data-apiPriceValue",m);b.find(".hubble-pd-radio.js-radio-wrap").attr("data-apiPriceValue",m);isNotEmpty(g)&&g!=m?(ea(m,g,d,l,w),b.attr("data-apiSavePriceValue",A).attr("data-apiTotalPriceValue",G).attr("data-apiPromotionPriceValue",g),b.find(".hubble-pd-radio.js-radio-wrap").attr("data-apiSavePriceValue",A).attr("data-apiTotalPriceValue",G).attr("data-apiPromotionPriceValue",
g)):(b.attr("data-apiSavePriceValue","").attr("data-apiTotalPriceValue",G),b.find(".hubble-pd-radio.js-radio-wrap").attr("data-apiSavePriceValue","").attr("data-apiTotalPriceValue",G));""!=d&&d&&q<=m&&q>g&&(b.attr("data-apiLowestWasPrice",d).attr("data-apiLowestWasPriceValue",q),b.find(".hubble-pd-radio.js-radio-wrap").attr("data-apiLowestWasPrice",d).attr("data-apiLowestWasPriceValue",q));""!=w&&w&&(b.attr("data-apiVatEligible",l).attr("data-apiVatFreePriceValue",w),b.find(".hubble-pd-radio.js-radio-wrap").attr("data-apiVatEligible",
l).attr("data-apiVatFreePriceValue",w));b.find(".hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").attr("an-la",u+":"+c.toLowerCase()+":"+e.toLowerCase());b.find(".hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").attr("data-modelcode",a.modelcode);b.find(".hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").attr("data-modelname",a.modelname);b.find(".hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").removeClass("is-item-added");var t=!1;"F-"==a.modelcode.substr(0,2)?void 0!=
BC_CARTDATA.addonBundleData&&0<BC_CARTDATA.addonBundleData.length&&$.each(BC_CARTDATA.addonBundleData,function(b,d){if(d.addonBundleCode==a.modelcode)return t=!0,!1}):void 0!=BC_CARTDATA.addonData&&0<BC_CARTDATA.addonData.length&&$.each(BC_CARTDATA.addonData,function(b,d){if(d.addonModelCode==a.modelcode)return t=!0,!1});t&&b.find(".hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").addClass("is-item-added")}function r(b,a){var f="";$.each(b,function(b,c){if(""!=a&&c.modelcode==a)return f=c,
!1});return f}function aa(b,a,c){var f="";$.each(b,function(b,k){var e="",m="";$.each(k.fmyChipList,function(b,a){if("COLOR"==a.fmyChipType)e=a.fmyChipCode;else if("MOBILE MEMORY"==a.fmyChipType||"MEMORY MEMORY"==a.fmyChipType||"PC STORAGE"==a.fmyChipType)m=a.fmyChipCode});e==a&&m==c&&(f=k)});return f}function L(){var b=0,a=0,c=0,e=0,m=0,l=0,w=0;void 0!=BC_CARTDATA.addonData&&0<BC_CARTDATA.addonData.length&&$.each(BC_CARTDATA.addonData,function(d,f){f.bundleModelCode||(b+=Number(f.addonModelPrice),
a+=Number(f.addonModelSavePrice),c+=Number(f.addonModelOriginPrice),F&&(e+=Number(f.addonModelRrpPrice),m+=Number(f.addonModelLowestPrice)),1==BC_MODEL.vatEligible&&(l+=Number(f.addonModelSumPrice),w+=Number(f.addonModelSumPromotionPrice)))});void 0!=BC_CARTDATA.addonBundleData&&0<BC_CARTDATA.addonBundleData.length&&$.each(BC_CARTDATA.addonBundleData,function(d,f){b+=Number(f.addonBundlePrice);a+=Number(f.addonBundleSavePrice);c+=Number(f.addonBundleOriginPrice);F&&(e+=Number(addonData.addonBundleRrpPrice),
m+=Number(addonData.addonBundleLowestPrice));1==BC_MODEL.vatEligible&&(l+=Number(addonData.addonModelSumPrice),w+=Number(addonData.addonModelSumPromotionPrice))});BC_MODEL.isVoucher&&(M=Number(BC_MODEL.voucherData.voucherPrice),M>b?(M-=b,BC_MODEL.voucherBalance=M==Number(BC_MODEL.voucherData.voucherPrice)?"none":"below"):(BC_MODEL.voucherBalance="over",M=0),fa=0<b&&b>BC_MODEL.voucherData.voucherPrice?b-Number(BC_MODEL.voucherData.voucherPrice):0);C(c,a,b,e,m);if(1==BC_MODEL.vatEligible){$(".hubble-addon-page__price .add-on-price-wrap").find(".s-price-default").replaceWith("");
$(".hubble-addon-page__price .add-on-price-wrap").find(".s-price-save").replaceWith("");$(".hubble-addon-page__price .total-price").find(".s-price-default del").replaceWith("");$(".hubble-addon-page__price .total-price").find(".s-price-save").replaceWith("");$(".hubble-addon-page__price .voucher-balance").find(".s-price").replaceWith("");$(".hubble-addon-page__price .extra-charge").find(".s-price").replaceWith("");$(".hubble-addon-page__price .add-on-price-wrap").find(".s-price").replaceWith('\x3cspan class\x3d"s-vat-price"\x3e\x3c/span\x3e');
$(".hubble-addon-page__price .total-price").find(".s-price").replaceWith('\x3cspan class\x3d"s-vat-price"\x3e\x3c/span\x3e');var g='    \x3cspan class\x3d"s-rrp"\x3e'+Granite.I18n.get("Precio antes: ",i18n_hint)+"\x3cem\x3e\x3cs\x3e"+currencyComma(l,currency)+"\x3c/s\x3e\x3c/em\x3e\x3c/span\x3e";g+='    \x3cspan class\x3d"s-promotion"\x3e'+Granite.I18n.get("Precio con descuento: ",i18n_hint)+"\x3cem\x3e"+currencyComma(w,currency)+"\x3c/em\x3e\x3c/span\x3e";g+='    \x3cspan class\x3d"s-except"\x3e'+
Granite.I18n.get("Precio sin IVA: ",i18n_hint)+"\x3cem\x3e"+currencyComma(b,currency)+"\x3c/em\x3e\x3c/span\x3e";$(".hubble-addon-page__price .add-on-price-wrap").find(".s-vat-price").html(g);$(".hubble-addon-page__price .total-price").find(".s-vat-price").html(g)}}function C(b,a,c,e,m){if(0<a){var f="",k="";if(wasPriceTypeA||wasPriceTypeC)if(wasPriceTypeC)if("it"==siteCode){var g=0;g=parseFloat(a/b*100).toFixed(2);k+=Granite.I18n.get("Risparmi il {0}",g,i18n_hint)+"% \x3cstrike\x3e("+currencyComma(b,
currency)+") \x3c/strike\x3e"}else"pl"==siteCode?k+='\x3cspan class\x3d"blind"\x3eList price\x3c/span\x3e'+Granite.I18n.get("Najni\u017csza cena z 30 dni przed obni\u017ck\u0105:",i18n_hint)+"\x3c/em\x3e\x3cs\x3e"+currencyComma(b,currency)+"\x3c/s\x3e\x3cem\x3e"+Granite.I18n.get("Save {0}",currencyComma(a,currency),i18n_hint)+"\x3c/em\x3e\x3c/span\x3e":F&&isNotEmpty(m)&&(g=0,g=parseInt(a/b*100),k+=Granite.I18n.get("Best price in the past 30 days :",null,i18n_hint)+" "+m+"(-"+g+"%) \x3cstrike\x3e"+
currencyComma(e,currency)+"\x3c/strike\x3e"+Granite.I18n.get("Save {0}",currencyComma(a,currency),i18n_hint));else k+=Granite.I18n.get("RRP {0}",currencyComma(b,currency),i18n_hint);else f+='\x3cspan class\x3d"blind"\x3eList price\x3c/span\x3e'+currencyComma(b,currency),k+=Granite.I18n.get("Save {0}",currencyComma(a,currency),i18n_hint);v&&"pl"==siteCode||($(".hubble-addon-page__price .add-on-price-wrap").find(".s-price-default del").html(f),$(".hubble-addon-page__price .add-on-price-wrap").find(".s-price-save").html(k),
$(".hubble-addon-page__price .total-price").find(".s-price-default del").html(f),$(".hubble-addon-page__price .total-price").find(".s-price-save").html(k))}else $(".hubble-addon-page__price .add-on-price-wrap").find(".s-price-default del").html(""),$(".hubble-addon-page__price .add-on-price-wrap").find(".s-price-save").html(""),$(".hubble-addon-page__price .total-price").find(".s-price-default del").html(""),$(".hubble-addon-page__price .total-price").find(".s-price-save").html("");$(".hubble-addon-page__price .voucher-balance").find(".s-price").html(currencyComma(M,
currency));$(".hubble-addon-page__price .extra-charge").find(".s-price").html(currencyComma(fa,currency));$(".hubble-addon-page__price .add-on-price-wrap").find(".s-price").html('\x3cspan class\x3d"blind"\x3eDiscount price\x3c/span\x3e'+currencyComma(c,currency));$(".hubble-addon-page__price .total-price").find(".s-price").html('\x3cspan class\x3d"blind"\x3eDiscount price\x3c/span\x3e'+currencyComma(c,currency));var d=0;void 0!=BC_CARTDATA.addonData&&0<BC_CARTDATA.addonData.length&&$.each(BC_CARTDATA.addonData,
function(b,a){a.bundleModelCode||d++});void 0!=BC_CARTDATA.addonBundleData&&0<BC_CARTDATA.addonBundleData.length&&$.each(BC_CARTDATA.addonBundleData,function(b,a){d++});$(".hubble-addon-page__price .s-txt-select-item").html(Granite.I18n.get("Selected items {0}","(\x3cspan\x3e"+d+"\x3c/span\x3e)",i18n_hint));$(".hubble-addon-page__price .total-price .s-price-title").html(Granite.I18n.get("Selected items {0}","(\x3cspan\x3e"+d+"\x3c/span\x3e)",i18n_hint));b=$(".hubble-addon-page__price .s-clear-btn");
0<BC_CARTDATA.addonData.length?(b.removeClass("is-disabled"),b.removeAttr("disabled"),b.attr("an-tr","bridge_"+z+"-"+bcPageTrack()+"-option-select"),b.attr("an-ca","option click"),b.attr("an-ac","bridge"),b.attr("an-la",u+":clear all")):(b.addClass("is-disabled"),b.attr("disabled","disabled"))}function S(){$(".hubble-addon-page__list .hubble-addon-page__item.is-selected").each(function(){e=$(this).find(".hubble-item-card__option-wrap .hubble-item-card__option-color-item").length;b=$(this).find(".hubble-item-card__option-wrap .hubble-item-card__option-memory-item").length;
if(0==e||0==b)$(this).removeClass("is-selected"),$(this).find(".hubble-item-card__cta button span").html(Granite.I18n.get("Add",null,i18n_hint))});$(".hubble-addon-page__list .hubble-addon-page__item .hubble-pd-radio__input.is-item-added").each(function(){$(this).removeClass("is-item-added");$(this).parent().hasClass("iss-checked")&&$(this).parents(".hubble-addon-page__item").hasClass("is-selected")&&($(this).parents(".hubble-addon-page__item").removeClass("is-selected"),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button span").html(Granite.I18n.get("Add",
null,i18n_hint)))});$(".hubble-addon-page__price-content .s-clear-btn").addClass("is-disabled");$(".hubble-addon-page__price-content .s-clear-btn").attr("disabled","disabled");L()}function O(){var b="true"===$("#isEppPage").val()?$("#eppCompanyCode").val():siteCode;b=$("#bcStoreDomain").val()+"/"+b+"/checkout/contactinfo";location.href=linkUrl(b)}function P(b){""!=b&&null!=b&&-1!=b.indexOf("$ORIGIN_PNG$")&&(b=b.replace("$ORIGIN_PNG$","$THUB_SHOP_L$"));return b}function ia(b,a,c,e,m){var f="";if(isNotEmpty(a)&&
b>a||isNotEmpty(e)&&isNotEmpty(m)){var k='\x3cspan class\x3d"s-price"\x3e\x3cspan class\x3d"blind"\x3eDiscount price\x3c/span\x3e'+currencyComma(a,currency)+"\x3c/span\x3e";f+='                                    \x3cspan class\x3d"s-price-wrap"\x3e';e&&m?(k="",vatUseYn&&""!=m&&m&&(k=k+'\x3cspan class\x3d"s-vat-price"\x3e'+('    \x3cspan class\x3d"s-except"\x3e'+Granite.I18n.get("Precio sin IVA: ",i18n_hint)+"\x3cem\x3e"+currencyComma(m,currency)+"\x3c/em\x3e\x3c/span\x3e"),isNotEmpty(a)&&a!=b&&(k+=
'    \x3cspan class\x3d"s-promotion"\x3e'+Granite.I18n.get("Precio con descuento: ",i18n_hint)+"\x3cem\x3e"+currencyComma(a,currency)+"\x3c/em\x3e\x3c/span\x3e"),k+='    \x3cspan class\x3d"s-rrp"\x3e'+Granite.I18n.get("Precio antes: ",i18n_hint)+"\x3cem\x3e\x3cs\x3e"+currencyComma(b,currency)+"\x3c/s\x3e\x3c/em\x3e\x3c/span\x3e",k+="\x3c/span\x3e"),f+=k):(wasPriceTypeA&&(f+=k),f+=bc_common.getLowestWasPriceInfo(c,b,a,!1,!1),wasPriceTypeA||(wasPriceTypeB||wasPriceTypeC?isNotEmpty(c)&&a<c&&a<b&&(f+=
"\x3cbr\x3e"):wasPriceTypeC||a<b&&(f+="\x3cbr\x3e"),f+=k))}else f=f+'                                    \x3cspan class\x3d"s-price-wrap"\x3e'+('                                      \x3cspan class\x3d"s-price"\x3e'+currencyComma(b,currency)+"\x3c/span\x3e");f+="                                    \x3c/span\x3e";ea(b,a,c,e,m);return f}function ea(b,c,e,m,w){A=I=G=0;F&&(a=b,l=isNotEmpty(e)?e:b);var f=!1;Number.isInteger(parseFloat(b))&&Number.isInteger(parseFloat(c))&&(f=!0);isNotEmpty(c)?(wasPriceTypeA&&
isNotEmpty(b)?"ro"!=siteCode||parseFloat(b)!=parseFloat(c)?(A=Number(parseFloat(b)-parseFloat(c)).toFixed(2),f&&(A=Number(parseFloat(b)-parseFloat(c))),I=b):I=c:!wasPriceTypeB&&!wasPriceTypeC||F?(!isNotEmpty(e)||F)&&0<parseFloat(b)-parseFloat(c)&&(A=Number(parseFloat(b)-parseFloat(c)).toFixed(2),f&&(A=Number(parseFloat(b)-parseFloat(c))),I=b):isNotEmpty(e)&&(parseFloat(b)>=parseFloat(e)&&parseFloat(e)>parseFloat(c)&&0<parseFloat(e)-parseFloat(c)?(A=Number(parseFloat(e)-parseFloat(c)).toFixed(2),f&&
(A=Number(parseFloat(e)-parseFloat(c))),I=e):parseFloat(e)>parseFloat(b)&&parseFloat(b)>=parseFloat(c)&&0<parseFloat(b)-parseFloat(c)&&(A=Number(parseFloat(b)-parseFloat(c)).toFixed(2),f&&(A=Number(parseFloat(b)-parseFloat(c))),I=b)),G=c):G=b;wasPriceTypeA||0!=A||(I=G);m&&w&&(A=Number(parseFloat(b)-parseFloat(w)).toFixed(2),f&&(A=Number(parseFloat(b)-parseFloat(w))),G=w)}var ba=$("#bcStoreDomain").val(),c={},B={},N={},D={},p={},K=[],Z=[],G=0,I=0,A=0,M,fa=0,F=!1;if("hu"==siteCode){var a=0,l=0;F=!0}var e=
"",b="",t="",m="",ka=[],W=[],u="add-on",z="add on",ca=!1,H={},x={},w={},ma=void 0!=BC_GROUP.stockAlertCtaText&&""!=BC_GROUP.stockAlertCtaText&&null!=BC_GROUP.stockAlertCtaText?BC_GROUP.stockAlertCtaText:Granite.I18n.get("Get Stock Alert",null,i18n_hint),T="Y"!=realTimeApiUse?ma:Granite.I18n.get("Out of Stock",null,i18n_hint),da=!1;if("hr"==siteCode||"si"==siteCode)da=!0;var v="true"===$("#isEppPage").val();$(document).on("click",".hubble-addon-page__category-item .s-category-link",function(b){window.sg.components.addOnsPage.activeCategory(b);
if(t!=$(this).attr("data-category-id")){$(this).addClass("is-active");$(this).attr("title","selected");$(".hubble-addon-page__category-item .s-category-link").not($(this)).removeClass("is-active");$(".hubble-addon-page__category-item .s-category-link").not($(this)).removeAttr("title");h(BC_MODEL.modelCode);null!==document.querySelector(".hubble-addon-page__list").querySelector(".js-hubble-item-card__option-memory")&&$(".hubble-addon-page:not(.is-gift-type) .hubble-item-card__option-wrap .iss-checked .hubble-pd-radio__input").click();
for(var a=0;a<$(".hubble-addon-page__list .hubble-item-card__cta-inner").length;a++){var c="";BC_MODEL.isVoucher||$.each(BC_MODEL.fbtData,function(b,f){f.addonModelCode==$(".hubble-addon-page__list .hubble-item-card__cta-inner button").eq(a).data("mo-code")&&(c='\x3cspan class\x3d"s-default-text"\x3e'+Granite.I18n.get("This product is already added to cart",null,i18n_hint)+"\x3c/span\x3e")});$(".hubble-addon-page__list .hubble-item-card__message").eq(a).html(c)}}});$(document).on("click",".hubble-addon-page:not(.is-gift-type) .hubble-item-card__option-wrap .hubble-pd-radio__input",
function(b){b=$(this).parents(".hubble-item-card__option-wrap").find(".hubble-item-card__option-color-item .hubble-pd-radio");if("MOBILE MEMORY"==$(this).attr("data-fmychiptype")||"MEMORY MEMORY"==$(this).attr("data-fmychiptype")||"PC STORAGE"==$(this).attr("data-fmychiptype"))b=$(this).parents(".hubble-item-card__option-wrap").find(".hubble-item-card__option-memory-item .hubble-pd-radio");b.each(function(){$(this).removeClass("iss-checked");$(this).find(".hubble-pd-radio__input").removeAttr("checked").prop("checked",
!1)});$(this).parent().addClass("iss-checked");$(this).attr("checked","checked").prop("checked",!0);var c=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-color-item .hubble-pd-radio.iss-checked").find(".hubble-pd-radio__input").attr("data-fmyChipCode");b=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-memory-item .hubble-pd-radio.iss-checked").find(".hubble-pd-radio__input").attr("data-fmyChipCode");var f=isNotEmpty($(this).parents(".hubble-item-card").find(".hubble-item-card__option-color-item .hubble-pd-radio.iss-checked").parents("span.hubble-item-card__option-color-item").attr("data-mo-referenceColor"))?
$(this).parents(".hubble-item-card").find(".hubble-item-card__option-color-item .hubble-pd-radio.iss-checked").parents("span.hubble-item-card__option-color-item").attr("data-mo-referenceColor"):"#00838F",e=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-memory-item .hubble-pd-radio.iss-checked").parents("span.hubble-item-card__option-memory-item").attr("data-mo-referenceColor"),m=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-color-item .hubble-pd-radio.iss-checked").parents("span.hubble-item-card__option-color-item").attr("data-mo-commercialFlag"),
w=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-memory-item .hubble-pd-radio.iss-checked").parents("span.hubble-item-card__option-memory-item").attr("data-mo-commercialFlag"),h=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-color-item .hubble-pd-radio.iss-checked").find(".hubble-pd-radio__label .hidden").html();$(this).parents(".option-selector.option-selector__color-text").find(".option-selector__color-name .color-name-text").html(h);void 0==c&&(c="");
void 0==b&&(b="");void 0==f&&(f="");void 0==e&&(e="");void 0==m&&(m="");void 0==w&&(w="");var g=$(this),d=$(this).parents(".hubble-item-card__option-color-item");if("MOBILE MEMORY"==$(this).attr("data-fmychiptype")||"MEMORY MEMORY"==$(this).attr("data-fmychiptype")||"PC STORAGE"==$(this).attr("data-fmychiptype"))d=$(this).parents(".hubble-item-card__option-memory-item");if(""!=c&&""!=b){var v=D[BC_MODEL.modelCode][t+"_"+d.attr("data-groupCode")],p=aa(v,c,b);""==p&&($(this).parents(".hubble-item-card__option-wrap").find(".hubble-item-card__option-memory-item .hubble-pd-radio").each(function(){$(this).removeClass("iss-checked");
$(this).find(".hubble-pd-radio__input").removeAttr("checked").prop("checked",!1)}),p=r(v,v.groupOptionChips.COLOR[c].productList[0]));""!=p&&($.each(p.fmyChipList,function(b,a){b="";if("COLOR"==a.fmyChipType)b=g.parents(".hubble-item-card").find(".hubble-item-card__option-color-item[data-fmychipcode\x3d'"+a.fmyChipCode+"']");else if("MOBILE MEMORY"==a.fmyChipType||"MEMORY MEMORY"==a.fmyChipType||"PC STORAGE"==a.fmyChipType)b=g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item[data-fmychipcode\x3d'"+
escapeHtml(a.fmyChipCode)+"']");E(b,p,a.fmyChipType,a.fmyChipName);b.find(".hubble-pd-radio.js-radio-wrap").removeClass("is-disabled");b.find(".hubble-pd-radio.js-radio-wrap").addClass("iss-checked");b.find(".hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").removeAttr("disabled").prop("checked",!1);b.find(".hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").attr("checked","checked").prop("checked",!0)}),null==v.groupOptionChips.COLOR||null==v.groupOptionChips["MOBILE MEMORY"]&&null==v.groupOptionChips["MEMORY MEMORY"]&&
null==v.groupOptionChips["PC STORAGE"]||(g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item .hubble-pd-radio.js-radio-wrap").addClass("is-disabled"),g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item .hubble-pd-radio__input").attr("disabled","disabled"),$.each(v.groupOptionChips["MOBILE MEMORY"],function(b,a){$.each(a.productList,function(b,d){-1<v.groupOptionChips.COLOR[c].productList.indexOf(d)&&(b=r(v,d),E(g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item[data-fmychipcode\x3d'"+
escapeHtml(a.fmyChipCode)+"']"),b,a.fmyChipType,a.fmyChipName),g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item[data-fmychipcode\x3d'"+escapeHtml(a.fmyChipCode)+"']").find(".hubble-pd-radio.js-radio-wrap").removeClass("is-disabled"),g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item[data-fmychipcode\x3d'"+escapeHtml(a.fmyChipCode)+"']").find(".hubble-pd-radio__input").removeAttr("disabled"))})}),$.each(v.groupOptionChips["MEMORY MEMORY"],function(b,
a){$.each(a.productList,function(b,d){-1<v.groupOptionChips.COLOR[c].productList.indexOf(d)&&(b=r(v,d),E(g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item[data-fmychipcode\x3d'"+escapeHtml(a.fmyChipCode)+"']"),b,a.fmyChipType,a.fmyChipName),g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item[data-fmychipcode\x3d'"+escapeHtml(a.fmyChipCode)+"']").find(".hubble-pd-radio.js-radio-wrap").removeClass("is-disabled"),g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item[data-fmychipcode\x3d'"+
escapeHtml(a.fmyChipCode)+"']").find(".hubble-pd-radio__input").removeAttr("disabled"))})}),$.each(v.groupOptionChips["PC STORAGE"],function(b,a){$.each(a.productList,function(b,d){-1<v.groupOptionChips.COLOR[c].productList.indexOf(d)&&(b=r(v,d),E(g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item[data-fmychipcode\x3d'"+escapeHtml(a.fmyChipCode)+"']"),b,a.fmyChipType,a.fmyChipName),g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item[data-fmychipcode\x3d'"+
escapeHtml(a.fmyChipCode)+"']").find(".hubble-pd-radio.js-radio-wrap").removeClass("is-disabled"),g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item[data-fmychipcode\x3d'"+escapeHtml(a.fmyChipCode)+"']").find(".hubble-pd-radio__input").removeAttr("disabled"))})})))}b="instock";$(this).parent().hasClass("s-type-color");$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button ").removeClass("s-out");$(this).hasClass("is-item-added")?($(this).closest(".hubble-addon-page__item").removeClass("is-disabled"),
$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").removeAttr("disabled"),$(this).closest(".hubble-addon-page__item").addClass("is-selected"),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button .s-cta-text").text(Granite.I18n.get("Added",null,i18n_hint))):$(this).closest(".hubble-pd-radio").hasClass("is-item-disabled")?(b="oufofstock",$(this).closest(".hubble-addon-page__item").removeClass("is-selected"),$(this).closest(".hubble-addon-page__item").removeAttr("aria-selected"),
"Y"!=realTimeApiUse?($(this).closest(".hubble-addon-page__item").removeClass("is-disabled"),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").removeAttr("disabled")):($(this).closest(".hubble-addon-page__item").addClass("is-disabled"),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("disabled","disabled")),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button .s-cta-text").html(T),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button ").addClass("s-out")):
($(this).closest(".hubble-addon-page__item").removeClass("is-disabled"),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").removeAttr("disabled"),$(this).closest(".hubble-addon-page__item").removeClass("is-selected"),$(this).closest(".hubble-addon-page__item").removeAttr("aria-selected"),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button .s-cta-text").text(Granite.I18n.get("Add",null,i18n_hint)));$(this).parents(".hubble-item-card__content").find(".hubble-item-card__product strong").html(unescapeHtml(d.attr("data-name")));
$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button .name").html(h+" "+d.attr("data-name"));var x="";h=d.attr("data-imgPath");x=d.attr("data-imgAlt")?d.attr("data-imgAlt"):"";h&&""!=h&&"/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg"!=h&&h.substring(0,8);h&&""!=h||(h="/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg");"/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg"!=h&&(h=addOnsImgDomain(h));$(this).closest(".hubble-item-card").find(".hubble-item-card__img img").attr("src",
P(h));$(this).closest(".hubble-item-card").find(".hubble-item-card__img source").attr("srcset",P(h));$(this).closest(".hubble-item-card").find(".hubble-item-card__img img").attr("data-src-pc",P(h));$(this).closest(".hubble-item-card").find(".hubble-item-card__img img").attr("data-src-mobile",P(h));$(this).closest(".hubble-item-card").find(".hubble-item-card__img img").attr("alt",x);$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-mo-code",$(this).closest(".hubble-pd-radio").parent().attr("data-mo-code"));
$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-modelcode",$(this).closest(".hubble-pd-radio").parent().attr("data-mo-code"));$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-mo-name",$(this).closest(".hubble-pd-radio").parent().attr("data-mo-name"));$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-modelname",$(this).closest(".hubble-pd-radio").parent().attr("data-mo-name"));$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-mo-categoryId",
$(this).closest(".hubble-pd-radio").parent().attr("data-mo-categoryId"));x=h="";""!=f?h=f:""!=e&&(h=e);""!=m?x=m:""!=w&&(x=w);f="";""!=h&&""!=x?(f=f+('\x3cspan class\x3d"badge-icon  badge-icon--label" style\x3d"background:'+h+'"\x3e')+x+"\x3c/span\x3e",$(this).parents("div.hubble-item-card").find(".hubble-item-card--badge").html(f)):$(this).parents("div.hubble-item-card").find(".hubble-item-card--badge .badge-icon--label").remove();f="";e=d.attr("data-apiPrice");f=parseFloat(d.attr("data-apiPriceValue"));
e&&(d.attr("data-apiPromotionPrice")&&d.attr("data-apiPromotionPrice"),e=d.attr("data-apiPromotionPriceValue")?parseFloat(d.attr("data-apiPromotionPriceValue")):f,d.attr("data-apiLowestWasPrice")&&d.attr("data-apiLowestWasPrice"),m=d.attr("data-apiLowestWasPriceValue")?parseFloat(d.attr("data-apiLowestWasPriceValue")):null,w=d.attr("data-apiVatEligible")?d.attr("data-apiVatEligible"):!1,d=d.attr("data-apiVatFreePriceValue")?parseFloat(d.attr("data-apiVatFreePriceValue")):null,d=""+ia(f,e,m,w,d),$(this).parents(".hubble-item-card").find(".hubble-item-card__price").html(d),
$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-originalprice",I),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-saveprice",A),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-totalprice",G),F&&($(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-rrpprice",a),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-lowestprice",
l)),1==BC_MODEL.vatEligible&&($(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-sumprice",f),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-sumpromotionprice",e!=f&&e?e:0)));d="-cta-add";f="-option-select";"add-on"===u&&(d="-cta-option",f="-cta-buy stock button");"oufofstock"==b.toLowerCase()?($(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("an-tr","bridge_"+z+"-"+bcPageTrack()+f),$(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("an-ca",
"buy cta"),$(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("an-ac","stock alert"+("add-on"===u?"":":"+T)),$(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("an-la",u+":stock alert")):($(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("an-tr","bridge_"+z+"-"+bcPageTrack()+d),$(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("an-ca","option click"),$(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("an-ac",
"bridge"),$(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("ga-ac",u),$(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("ga-la",u+":add item"));if(!BC_MODEL.isVoucher){var n=!1,W=$(this).closest(".hubble-pd-radio").parent().attr("data-mo-code");$.each(BC_MODEL.fbtData,function(b,a){n||a.addonModelCode!=W||(n=!0)});n?$(this).parents("div.hubble-item-card").find(".hubble-item-card__message").html('\x3cspan class\x3d"s-default-text"\x3e'+
Granite.I18n.get("This product is already added to cart",null,i18n_hint)+"\x3c/span\x3e"):$(this).parents("div.hubble-item-card").find(".hubble-item-card__message").html("")}$(this).parents("div.hubble-item-card").find(".hubble-pd-popup-opener.zoom-popup-opener").attr("data-modelcode",$(this).closest(".hubble-pd-radio").parent().attr("data-mo-code"));$(this).parents("div.hubble-item-card").find(".hubble-pd-popup-opener.zoom-popup-opener").attr("data-modelname",$(this).closest(".hubble-pd-radio").parent().attr("data-mo-name"));
$(this).parents("div.hubble-item-card").find(".hubble-pd-popup-opener.zoom-popup-opener").attr("data-modeldisplay",$(this).closest(".hubble-pd-radio").parent().attr("data-name"));window.sg.components.addOnsPage.reInit(!1);window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight()});$(document).on("click",".hubble-item-card__cta button:not(.s-out)",function(a){var c=$(this).attr("data-mo-code");if("F-"==c.substr(0,2)){var f=!1;void 0!=BC_CARTDATA.addonBundleData&&0<BC_CARTDATA.addonBundleData.length&&
$.each(BC_CARTDATA.addonBundleData,function(b,a){if(a.addonBundleCode==c)return f=!0,BC_CARTDATA.addonBundleData.splice(b,1),!1});if(void 0!=BC_CARTDATA.addonData){var m=-1,w=0;0<BC_CARTDATA.addonData.length&&($.each(BC_CARTDATA.addonData,function(b,a){void 0!=a.bundleModelCode&&"addonbundle"==a.productType&&a.bundleModelCode==c&&(-1==m&&(m=b),w++)}),BC_CARTDATA.addonData.splice(m,w))}if(f)$(this).parents(".hubble-addon-page__item").removeClass("is-selected"),$(this).find(".s-cta-text").text(Granite.I18n.get("Add",
null,i18n_hint)),L(),isNotEmpty($(this).attr("data-bundle-code"))||($(this).attr("data-layer-target","#hubble-addon-bundle-layer"),$(this).addClass("hubble-pd-popup-opener"));else if(isNotEmpty($(this).attr("data-bundle-code"))){for(var l=$(this).attr("data-bundle-code").split("|"),h=0;h<l.length;h++)""!=l[h]&&(a={addonModelCode:l[h],bundleModelCode:$(this).attr("data-mo-code"),productType:"addonbundle",addonBundleMode:"C"},void 0!=BC_CARTDATA.addonData&&BC_CARTDATA.addonData.push(a));l={addonBundleCode:$(this).attr("data-mo-code"),
addonBundleMode:"P",addonBundleOriginPrice:$(this).attr("data-originalprice"),addonBundlePrice:$(this).attr("data-totalprice"),addonBundleSavePrice:$(this).attr("data-saveprice"),addonModelCode:$(this).attr("data-mo-code"),addonModelOriginPrice:$(this).attr("data-originalprice"),addonModelPrice:$(this).attr("data-totalprice"),addonModelSavePrice:$(this).attr("data-saveprice"),bundleModelCode:$(this).attr("data-mo-code"),displayName:$(this).attr("data-mo-bundle-name"),productType:"addonbundle"};F&&
(l={addonBundleCode:$(this).attr("data-mo-code"),addonBundleMode:"P",addonBundleOriginPrice:$(this).attr("data-originalprice"),addonBundlePrice:$(this).attr("data-totalprice"),addonBundleSavePrice:$(this).attr("data-saveprice"),addonModelCode:$(this).attr("data-mo-code"),addonModelOriginPrice:$(this).attr("data-originalprice"),addonModelPrice:$(this).attr("data-totalprice"),addonModelSavePrice:$(this).attr("data-saveprice"),addonBundleRrpPrice:$(this).attr("data-rrpprice"),addonBundleLowestPrice:$(this).attr("data-lowestprice"),
bundleModelCode:$(this).attr("data-mo-code"),displayName:$(this).attr("data-mo-bundle-name"),productType:"addonbundle"});BC_CARTDATA.addonBundleData.push(l);$(document).trigger("bundleApplyEvent",{selectBundleCode:$(this).attr("data-mo-code")})}else $(this).parents(".hubble-addon-page__item").removeClass("is-selected"),$(this).find(".s-cta-text").text(Granite.I18n.get("Add",null,i18n_hint)),l={bundleModelCode:$(this).attr("data-mo-code"),bundleDisplayName:$(this).attr("data-mo-bundle-name"),bundleOriginPrice:$(this).attr("data-originalprice"),
bundleSavePrice:$(this).attr("data-saveprice"),bundleTotalPrice:$(this).attr("data-totalprice")},F&&(l={bundleModelCode:$(this).attr("data-mo-code"),bundleDisplayName:$(this).attr("data-mo-bundle-name"),bundleOriginPrice:$(this).attr("data-originalprice"),bundleSavePrice:$(this).attr("data-saveprice"),bundleTotalPrice:$(this).attr("data-totalprice"),bundleRrpPrice:$(this).attr("data-rrpprice"),bundleLowestPrice:$(this).attr("data-lowestprice")}),BC_MODEL.vatEligible&&(l={bundleModelCode:$(this).attr("data-mo-code"),
bundleDisplayName:$(this).attr("data-mo-bundle-name"),bundleOriginPrice:$(this).attr("data-originalprice"),bundleSavePrice:$(this).attr("data-saveprice"),bundleTotalPrice:$(this).attr("data-totalprice"),bundleSumPrice:$(this).attr("data-sumprice"),bundleSumPromotionPrice:$(this).attr("data-sumpromotionprice")}),loadComponent("addon-bundle"),$(document).trigger("bundlePopupEvent",l,$(this))}else{if($(this).parents(".hubble-addon-page__item").hasClass("is-selected")){var g=!1;$(this).parents(".hubble-addon-page__item").removeClass("is-selected");
$(this).find(".s-cta-text").text(Granite.I18n.get("Add",null,i18n_hint))}else g=!0,$(this).parents(".hubble-addon-page__item").addClass("is-selected"),$(this).find(".s-cta-text").text(Granite.I18n.get("Added",null,i18n_hint));e=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-wrap .hubble-item-card__option-color-item").length;b=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-wrap .hubble-item-card__option-memory-item").length;$(this).parents(".hubble-item-card").find(".hubble-item-card__option-wrap").children().each(function(){$(this).find(".hubble-pd-radio").hasClass("iss-checked")&&
(g?$(this).find(".hubble-pd-radio.iss-checked .hubble-pd-radio__input").addClass("is-item-added"):$(this).find(".hubble-pd-radio.iss-checked .hubble-pd-radio__input").removeClass("is-item-added"))});a={};var d="",u="";F&&(l="");var v="-1";var t=$(this).attr("data-mo-code");h=$(this).attr("data-mo-name");a=$(this).attr("data-mo-categoryId");var z=isNumber(parseFloat($(this).attr("data-originalprice")))?parseFloat($(this).attr("data-originalprice")):0;var p=isNumber(parseFloat($(this).attr("data-saveprice")))?
parseFloat($(this).attr("data-saveprice")):0;d=isNumber(parseFloat($(this).attr("data-totalprice")))?parseFloat($(this).attr("data-totalprice")):0;F&&(l=isNumber(parseFloat($(this).attr("data-rrpprice")))?parseFloat($(this).attr("data-rrpprice")):0,selectModelLowestPrice=isNumber(parseFloat($(this).attr("data-lowestprice")))?parseFloat($(this).attr("data-lowestprice")):0);1==BC_MODEL.vatEligible&&(selectModelSumPrice=isNumber(parseFloat($(this).attr("data-sumprice")))?parseFloat($(this).attr("data-sumprice")):
0,selectModelSumPromotionPrice=isNumber(parseFloat($(this).attr("data-sumpromotionprice")))?parseFloat($(this).attr("data-sumpromotionprice")):0);a=N[BC_MODEL.modelCode][a+"_"+t];var x=a.name;var n=a.pviTypeName;var r=a.pviSubtypeName;u=a.categorySubTypeEngName;void 0!=BC_CARTDATA.addonData&&0<BC_CARTDATA.addonData.length&&$.each(BC_CARTDATA.addonData,function(b,a){if(a.addonModelCode==t&&"addon"==a.productType)return v=b,BC_CARTDATA.addonData.splice(v,1),!1});0>v&&(a={addonModelCode:t,addonModelName:h,
dtmModelCode:t,addonModelPrice:d,addonModelOriginPrice:z,addonModelSavePrice:p,displayName:x,pviTypeName:n,pviSubtypeName:r,categorySubTypeEngName:u,modelrevenue:z,modelqty:1,productType:"addon"},F&&(a={addonModelCode:t,addonModelName:h,dtmModelCode:t,addonModelPrice:d,addonModelOriginPrice:z,addonModelSavePrice:p,addonModelRrpPrice:l,addonModelLowestPrice:selectModelLowestPrice,displayName:x,pviTypeName:n,pviSubtypeName:r,categorySubTypeEngName:u,modelrevenue:z,modelqty:1,productType:"addon"}),1==
BC_MODEL.vatEligible&&(a={addonModelCode:t,addonModelName:h,dtmModelCode:t,addonModelPrice:d,addonModelOriginPrice:z,addonModelSavePrice:p,displayName:x,pviTypeName:n,pviSubtypeName:r,categorySubTypeEngName:u,modelrevenue:z,modelqty:1,productType:"addon",addonModelSumPrice:selectModelSumPrice,addonModelSumPromotionPrice:selectModelSumPromotionPrice}),BC_CARTDATA.addonData.push(a));bc_summary.setCtaTagging();L()}});$(document).on("click",".hubble-addon-page__price-content .s-clear-btn",function(b){b=
Granite.I18n.get("Delete",null,i18n_hint);"jp"==siteCode&&(b=Granite.I18n.get("Addons Clear All Delete",null,i18n_hint));bc_confirm.notify({htmlTitle:b,htmlText:Granite.I18n.get("You're sure you want to delete this item?",null,i18n_hint),btnPrimaryText:Granite.I18n.get("Yes",null,i18n_hint),btnGhostText:Granite.I18n.get("No",null,i18n_hint),btnPrimaryAttrs:{"an-tr":"bridge_"+z+"-"+bcPageTrack()+"-option-select","an-ca":"option click","an-ac":"bridge","an-la":u+":delete option:yes"},btnGhostyAttrs:{"an-tr":"bridge_"+
z+"-"+bcPageTrack()+"-option-select","an-ca":"option click","an-ac":"bridge","an-la":u+":delete option:no"}},"addon-clear-all");$(".confirm-popup").off("click",'.cta[data-event-type\x3d"addon-clear-all"]');$(".confirm-popup").on("click",'.cta[data-event-type\x3d"addon-clear-all"]',function(b){if($(this).hasClass("cta--contained"))BC_CARTDATA.addonData=[],BC_CARTDATA.addonBundleData=[],bc_summary.setCtaTagging(),S();else return!1})});$(document).on("click",".hubble-addon-page__cta:not(.gift-type) #addon_skip",
function(b){if(BC_MODEL.isVoucher){b=!1;if("hk"==siteCode||"hk_en"==siteCode)b=!0;var a=$(this),c=a.attr("data-pimsubtype"),f=a.attr("data-pvitype"),e=a.attr("data-pvisubtype"),m=a.attr("data-modelcode"),l=a.attr("data-modelname"),g=a.attr("data-modelrevenue"),d=a.attr("data-modelprice"),w=a.attr("data-modelqty"),h=a.attr("data-modeldisplay"),t=a.attr("data-modelcurrency");a=a.attr("data-discountprice");bc_confirm.notify({htmlTitle:Granite.I18n.get("Are you sure?",null,i18n_hint),htmlText:Granite.I18n.get("You didn't redeem your {0} credit.\x3cbr/\x3eIt will be gone once you press 'skip'.",
currencyComma(BC_MODEL.voucherData.voucherPrice,currency),i18n_hint),btnPrimaryText:Granite.I18n.get("Skip",null,i18n_hint),btnGhostText:Granite.I18n.get("Redeem",null,i18n_hint),btnColorChange:b,btnPrimaryAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button skip continue-content_click3","an-ca":"ecommerce","an-ac":"addToCart","an-la":"evoucher:no addition:skip","data-pimsubtype":c,"data-pvitype":f,"data-pvisubtype":e,"data-modelcode":m,"data-modelname":l,"data-modelrevenue":g,"data-modelprice":d,
"data-modelqty":w,"data-modeldisplay":h,"data-modelcurrency":t,"data-discountprice":a},btnGhostyAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button popup","an-ca":"content click","an-ac":"feature","an-la":"evoucher:no addition:redeem"},btnCloseAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button popup","an-ca":"content click","an-ac":"feature","an-la":"evoucher:no addition:redeem"}},"redeem-skip");$(".confirm-popup").off("click",'.cta[data-event-type\x3d"redeem-skip"]');$(".confirm-popup").on("click",
'.cta[data-event-type\x3d"redeem-skip"]',function(b){if("hk"==siteCode||"hk_en"==siteCode)if($(this).hasClass("cta--outlined"))BC_CARTDATA.addonData=[],bc_summary.moveToCart();else return!1;else if($(this).hasClass("cta--contained"))BC_CARTDATA.addonData=[],bc_summary.moveToCart();else return!1})}else BC_CARTDATA.addonData=[],"cn"==siteCode?O():bc_summary.moveToCart()});$(document).on("click",".hubble-addon-page:not(.is-gift-type) .addon-continue-btn:not(.s-cta-disabled)",function(b){if(BC_MODEL.isVoucher){var a=
$(this);b=a.attr("data-pimsubtype");var c=a.attr("data-pvitype"),f=a.attr("data-pvisubtype"),e=a.attr("data-modelcode"),m=a.attr("data-modelname"),l=a.attr("data-modelrevenue"),g=a.attr("data-modelprice"),d=a.attr("data-modelqty"),w=a.attr("data-modeldisplay"),h=a.attr("data-modelcurrency");a=a.attr("data-discountprice");if(Number(M)==Number(BC_MODEL.voucherData.voucherPrice)){var t=!1;if("hk"==siteCode||"hk_en"==siteCode)t=!0;bc_confirm.notify({htmlTitle:Granite.I18n.get("Are you sure?",null,i18n_hint),
htmlText:Granite.I18n.get("You didn't redeem your {0} credit.\x3cbr/\x3eIt will be gone once you press 'skip'.",currencyComma(M,currency),i18n_hint),btnPrimaryText:Granite.I18n.get("Skip",null,i18n_hint),btnGhostText:Granite.I18n.get("Redeem",null,i18n_hint),btnColorChange:t,btnPrimaryAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button skip continue-content_click3","an-ca":"content click","an-ac":"feature","an-la":"evoucher:no addition:skip","data-pimsubtype":b,"data-pvitype":c,"data-pvisubtype":f,
"data-modelcode":e,"data-modelname":m,"data-modelrevenue":l,"data-modelprice":g,"data-modelqty":d,"data-modeldisplay":w,"data-modelcurrency":h,"data-discountprice":a},btnGhostyAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button popup","an-ca":"content click","an-ac":"feature","an-la":"evoucher:no addition:redeem"},btnCloseAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button popup","an-ca":"content click","an-ac":"feature","an-la":"evoucher:no addition:redeem"}},"redeem-skip");$(".confirm-popup").off("click",
'.cta[data-event-type\x3d"redeem-skip"]');$(".confirm-popup").on("click",'.cta[data-event-type\x3d"redeem-skip"]',function(b){if("hk"==siteCode||"hk_en"==siteCode)if($(this).hasClass("cta--outlined"))BC_CARTDATA.addonData=[],bc_summary.moveToCart();else return!1;else if($(this).hasClass("cta--contained"))BC_CARTDATA.addonData=[],bc_summary.moveToCart();else return!1})}else if(Number(M)!=Number(BC_MODEL.voucherData.voucherPrice)&&0<Number(M)){var u="";t=!1;var v="",z="";"hk"==siteCode||"hk_en"==siteCode?
(u=Granite.I18n.get("Are you sure??",null,i18n_hint),v=Granite.I18n.get("Skip",null,i18n_hint),z=Granite.I18n.get("hkBack",null,i18n_hint),t=!0):"tw"==siteCode?(u=Granite.I18n.get("Are you sure??",null,i18n_hint),v=Granite.I18n.get("Skip eVoucher",null,i18n_hint),z=Granite.I18n.get("Back eVoucher",null,i18n_hint)):(u=Granite.I18n.get("Are you sure?",null,i18n_hint),v=Granite.I18n.get("Continue",null,i18n_hint),z=Granite.I18n.get("Back",null,i18n_hint));bc_confirm.notify({htmlTitle:u,htmlText:Granite.I18n.get("You still have credits remaining ({0})\x3cbr/\x3eRemaining credits will no longer be available once you press 'Continue'",
currencyComma(M,currency),i18n_hint),btnPrimaryText:v,btnGhostText:z,btnColorChange:t,btnPrimaryAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button skip continue","an-ca":"ecommerce","an-ac":"addToCart","an-la":"evoucher:below evoucher:continue","data-pimsubtype":b,"data-pvitype":c,"data-pvisubtype":f,"data-modelcode":e,"data-modelname":m,"data-modelrevenue":l,"data-modelprice":g,"data-modelqty":d,"data-modeldisplay":w,"data-modelcurrency":h,"data-discountprice":a},btnGhostyAttrs:{"an-tr":"bridge_evoucher-"+
bcPageTrack()+"-cta-button popup","an-ca":"content click","an-ac":"feature","an-la":"evoucher:below evoucher:back"},btnCloseAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button popup","an-ca":"content click","an-ac":"feature","an-la":"evoucher:below evoucher:back"}},"redeem-back");$(".confirm-popup").off("click",'.cta[data-event-type\x3d"redeem-back"]');$(".confirm-popup").on("click",'.cta[data-event-type\x3d"redeem-back"]',function(b){if("hk"==siteCode||"hk_en"==siteCode)if($(this).hasClass("cta--outlined"))0<
BC_CARTDATA.addonData.length?bc_summary.addOnGoToCart():bc_summary.moveToCart();else return!1;else if($(this).hasClass("cta--contained"))0<BC_CARTDATA.addonData.length?bc_summary.addOnGoToCart():bc_summary.moveToCart();else return!1})}else bc_confirm.notify({htmlTitle:Granite.I18n.get("Great!",null,i18n_hint),htmlText:Granite.I18n.get("You redeemed all your credits!\x3cbr/\x3ePress 'continue' to proceed.\x3cbr/\x3eYou cannot change your selection once you press 'continue'.",null,i18n_hint),btnPrimaryText:Granite.I18n.get("Continue",
null,i18n_hint),btnGhostText:Granite.I18n.get("Select again",null,i18n_hint),btnPrimaryAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button skip continue","an-ca":"ecommerce","an-ac":"addToCart","an-la":"evoucher:over evoucher:continue","data-pimsubtype":b,"data-pvitype":c,"data-pvisubtype":f,"data-modelcode":e,"data-modelname":m,"data-modelrevenue":l,"data-modelprice":g,"data-modelqty":d,"data-modeldisplay":w,"data-modelcurrency":h,"data-discountprice":a},btnGhostyAttrs:{"an-tr":"bridge_evoucher-"+
bcPageTrack()+"-cta-button popup","an-ca":"content click","an-ac":"feature","an-la":"evoucher:over evoucher:Select again"},btnCloseAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button popup","an-ca":"content click","an-ac":"feature","an-la":"evoucher:over evoucher:Select again"}},"redeem-select-again"),$(".confirm-popup").off("click",'.cta[data-event-type\x3d"redeem-select-again"]'),$(".confirm-popup").on("click",'.cta[data-event-type\x3d"redeem-select-again"]',function(b){if($(this).hasClass("cta--contained"))0<
BC_CARTDATA.addonData.length?bc_summary.addOnGoToCart():bc_summary.moveToCart();else return!1})}else void 0!=BC_CARTDATA.addonData?0<BC_CARTDATA.addonData.length?bc_summary.addOnGoToCart():"cn"==siteCode?O():bc_summary.moveToCart():"cn"==siteCode?O():bc_summary.moveToCart();bc_summary.setCtaTagging()});var ja=function(){window.sg.components.bcProgressbar.hide();$("body").css("display","none");if(BC_MODEL.isVoucher)z=u="evoucher",$(".hubble-addon-page__price-content .s-txt-select-item").hide(),$(".hubble-addon-page__price-content .add-on-price-wrap.s-price-wrap").hide(),
$(".hubble-addon-page__price-content .s-price-info").show(),$(".hubble-addon-page .hubble-addon-page__price-title .s-txt-title").html(BC_MODEL.voucherData.mainTitle),$(".hubble-addon-page .hubble-addon-page__price-title .s-txt-sub-title").html(BC_MODEL.voucherData.subTitle),""==$(".hubble-addon-page .hubble-addon-page__inner .hubble-addon-page__price-title .s-txt-desc").html()&&$(".hubble-addon-page .hubble-addon-page__inner .hubble-addon-page__price-title .s-txt-desc").remove(),""!=BC_MODEL.voucherData.description?
($(".hubble-addon-page .hubble-addon-page__desc-wrap").show(),$(".hubble-addon-page .hubble-addon-page__desc-wrap .s-desc").html(BC_MODEL.voucherData.description)):$(".hubble-addon-page .hubble-addon-page__desc-wrap").hide();else{var b=window.addOnTitle?window.addOnTitle:Granite.I18n.get("Amazing additions",null,i18n_hint);var a="uk"==siteCode?Granite.I18n.get("In order to reduce e-waste, our Smartphones do not come with a charger plug in the box. You can use your existing charger plug together with the included USB Type-C data cable, or add one to your order above.",
null,i18n_hint):isNotEmpty(window.addOnDescription)?window.addOnDescription:isNotEmpty(BC_GROUP.addonsDesc)?BC_GROUP.addonsDesc:"";"NewHybris"==$("#storeType").val()&&(b=BC_GROUP.addonsTitle?BC_GROUP.addonsTitle:Granite.I18n.get("Amazing additions",null,i18n_hint));$(".hubble-addon-page__price-content .s-price-info").hide();$(".hubble-addon-page__price-title .s-txt-title").html(b);""==$(".hubble-addon-page .hubble-addon-page__inner .hubble-addon-page__price-title .s-txt-desc").html()&&$(".hubble-addon-page .hubble-addon-page__inner .hubble-addon-page__price-title .s-txt-desc").remove();
""!=a?($(".hubble-addon-page .hubble-addon-page__desc-wrap").show(),$(".hubble-addon-page .hubble-addon-page__desc-wrap .s-desc").html(a)):$(".hubble-addon-page .hubble-addon-page__desc-wrap").hide()}BC_CARTDATA.addonData=[];BC_CARTDATA.addonBundleData=[];$("#content").hide();$(".hubble-price-bar-disclaimer").hide();$(".hubble-price-bar").hide();b=$(".hubble-addon-page");b.removeClass("is-gift-type");b.find(".hubble-addon-page__sticky .hubble-addon-page__price").show();b.find(".hubble-addon-page__cta").show();
b.find(".hubble-addon-page__cta.gift-type").hide();b.find(".hubble-addon-page__notice").remove();$(".hubble-addon-page__category-wrapper").show();a=Granite.I18n.get("Continue",null,i18n_hint);"fr"==siteCode&&(a=Granite.I18n.get("Voir mon panier",null,i18n_hint));b.find(".addon-continue-btn .s-cta-text").text(a);$(".hubble-addon-page__list").remove();BC_MODEL.isVoucher||($(".hubble-addon-page__price-title .s-txt-sub-title").remove(),$(".hubble-addon-page__price-title .s-txt-desc").remove(),"uk"!=siteCode&&
$(".hubble-addon-page .hubble-addon-page__desc-wrap").remove());"it"==siteCode&&$(".hubble-addon-page__confirm-terms").remove();bc_addon_page_common.setPriceBar();bc_addon_page_common.setAddOnsType();$("#wrap").addClass("hubble-content__addon");$("#content__addon").show();$(document).scrollTop(0);bc_common.historyBackEvent();bc_summary.setCtaTagging()};$(document).on("click",".hubble-addon-page .hubble-item-card__cta-inner .s-btn-encased.s-out",function(b){$(this).closest(".hubble-addon-page__item").removeClass("is-selected");
$(this).closest(".hubble-addon-page__item").removeAttr("aria-selected");$(this).find(".s-cta-text").html(T);$(this).addClass("s-out");b=$(this).attr("data-mo-name");var a=$(this).attr("data-mo-code");$("#getStockProductCode").val(a);loadComponent("getstock");$("#getStockAlertLayer").trigger("click");$(".hubble-getstock-popup .hubble-pd-popup-closer").attr("data-modelcode",a).attr("data-modelname",b).attr("an-ca","buy cta").attr("an-ac","stock alert").attr("an-la","stock alert:close");$(".hubble-getstock-popup #getStockAlertSubmit").attr("data-modelcode",
a).attr("data-modelname",b).attr("an-ca","buy cta").attr("an-ac","stock alert").attr("an-la","stock alert:submit")});$(document).on("click",".hubble-addon-page__item .zoom-popup-opener",function(b){b=$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-mo-code");0==$(".bc-zoom-popup").length&&loadComponent("zoom-popup");$(document).trigger("zoomPopup",[b,H,x,w,$(this)])});$(document).on("continueEvent",function(b,a){"NewHybris"==$("#storeType").val()?V(BC_MODEL.modelCode):
U(BC_MODEL.modelCode)});$(document).on("bundleApplyEvent",function(b,a){L();$(".hubble-addon-page__item .hubble-item-card__cta button").each(function(){if(a.selectBundleCode==$(this).attr("data-mo-code"))return"close"==a.type?($(this).parents(".hubble-addon-page__item").removeClass("is-selected"),$(this).find(".s-cta-text").text(Granite.I18n.get("Add",null,i18n_hint))):($(this).parents(".hubble-addon-page__item").addClass("is-selected"),$(this).find(".s-cta-text").text(Granite.I18n.get("Added",null,
i18n_hint)),$(this).removeAttr("data-layer-target"),$(this).removeClass("hubble-pd-popup-opener")),!1})});var na=function(){$(".hubble-addon-page .hubble-addon-page__item.is-selected").each(function(){$(this).find(".hubble-item-card__cta button").click()});$(".hubble-addon-page:not(.is-gift-type) .hubble-item-card__option-wrap .hubble-pd-radio__input.is-item-added").removeClass("is-item-added");$(".hubble-addon-page__price-wrap .add-on-price-wrap .s-price").html('\x3cspan class\x3d"blind"\x3eDiscount price\x3c/span\x3e'+
currencyComma("0",currency))};return{bundleChangeGrid:function(b){b=$(".hubble-addon-page .hubble-addon-page__list .hubble-item-card .hubble-item-card__cta button[data-mo-code\x3d'"+b+"']");b.text(Granite.I18n.get("Out of Stock",null,i18n_hint));b.removeAttr("data-layer-target");b.removeClass("hubble-pd-popup-opener");b.addClass("is-cta-disabled cta--disabled");b.attr("disabled","disabled")},removeBundleChangeTarget:function(b,a){b=$(".hubble-addon-page .hubble-addon-page__list .hubble-item-card__cta button[data-mo-code\x3d'"+
b+"']");b.attr("data-bundle-code",a);b.removeAttr("data-layer-target");b.removeClass("hubble-pd-popup-opener")},unselectedProduct:function(){na()}}}(bc_addon_page),bc_addon_page_gift=function(){function U(a){var l="true"===$("#isEppPage").val()?{withCredentials:!0}:{},e="jQuery1910499421933433041_151";if("ca"==siteCode||"ca_fr"==siteCode)e+=Math.floor(100*Math.random());"Y"==hybrisJsonYn?$.ajax({url:ba+"/"+multistoreSiteCode+"/servicesv2/getRelatedProductsSimpleInfo?productCode\x3d"+a+"\x26queryType\x3dSELECTION_OF_GIFT",
type:"GET",dataType:"json",cache:!0,crossDomain:!0,xhrFields:l,timeout:1E4,beforeSend:function(){window.sg.components.bcProgressbar.show(!0)},success:function(b){null!=b.products&&0<b.products.length?(F(),$.each(b.products,function(b,a){c[a.modelcode]={};c[a.modelcode].modelcode=a.modelcode;c[a.modelcode].groupCode="";c[a.modelcode].price="";c[a.modelcode].priceValue="";c[a.modelcode].promotionPrice="";c[a.modelcode].promotionPriceValue="";c[a.modelcode].usp={};a.price&&(c[a.modelcode].price=a.price);
c[a.modelcode].promotionPrice=a.promotionPrice?a.promotionPrice:a.price;a.priceValue&&(c[a.modelcode].priceValue=a.priceValue);c[a.modelcode].promotionPriceValue=a.promotionPriceValue?"za"==siteCode?a.promotionPriceValue.replace(/[^0-9]/g,""):a.promotionPriceValue:a.priceValue;a.stocklevel&&(c[a.modelcode].stocklevel=a.stocklevel);a.groupCode&&(c[a.modelcode].groupCode=a.groupCode);B[a.groupCode]=[];"F-"==a.modelcode.substr(0,2)&&(a.imageUrl&&(c[a.modelcode].imageUrl=a.imageUrl),a.name&&(c[a.modelcode].name=
a.name),a.stocklevel&&"outofstock"==a.stocklevel.toLowerCase()&&(c[a.modelcode].stocklevel="inStock"));if(a.usp)for(b=0;b<a.usp.length;b++)c[a.modelcode].usp[b]=a.usp[b]})):(BC_GROUP.services&&0<BC_GROUP.services.length&&$.each(BC_GROUP.services,function(b,a){"ADD-ON"==a.serviceType&&"N"==a.displayYn&&(BC_MODEL.addOnsYn="N")}),bc_summary.goToCart(),window.sg.components.addOnsPage.reInit(),window.sg.components.addOnsPage.cardSlice(),window.sg.components.addOnsPage.sameHeight(),console.log("No Related Product--"))},
error:function(){BC_GROUP.services&&0<BC_GROUP.services.length&&$.each(BC_GROUP.services,function(b,a){"ADD-ON"==a.serviceType&&"N"==a.displayYn&&(BC_MODEL.addOnsYn="N")});window.sg.components.bcProgressbar.hide();bc_summary.goToCart();window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight();console.log("Related Products API Error--")},complete:function(){y(a)}}):$.ajax({url:ba+"/"+multistoreSiteCode+"/servicesv2/getRelatedProductsSimpleInfo?productCode\x3d"+
a+"\x26queryType\x3dSELECTION_OF_GIFT",type:"GET",dataType:"jsonp",jsonpCallback:e,cache:!0,crossDomain:!0,xhrFields:l,timeout:1E4,beforeSend:function(){window.sg.components.bcProgressbar.show(!0)},success:function(b){null!=b.products&&0<b.products.length?(F(),$.each(b.products,function(b,a){c[a.modelcode]={};c[a.modelcode].modelcode=a.modelcode;c[a.modelcode].groupCode="";c[a.modelcode].price="";c[a.modelcode].priceValue="";c[a.modelcode].promotionPrice="";c[a.modelcode].promotionPriceValue="";c[a.modelcode].usp=
{};a.price&&(c[a.modelcode].price=a.price);c[a.modelcode].promotionPrice=a.promotionPrice?a.promotionPrice:a.price;a.priceValue&&(c[a.modelcode].priceValue=a.priceValue);c[a.modelcode].promotionPriceValue=a.promotionPriceValue?"za"==siteCode?a.promotionPriceValue.replace(/[^0-9]/g,""):a.promotionPriceValue:a.priceValue;a.stocklevel&&(c[a.modelcode].stocklevel=a.stocklevel);a.groupCode&&(c[a.modelcode].groupCode=a.groupCode);B[a.groupCode]=[];if("F-"==a.modelcode.substr(0,2)&&(a.imageUrl&&(c[a.modelcode].imageUrl=
a.imageUrl),a.name&&(c[a.modelcode].name=a.name),a.stocklevel&&"outofstock"==a.stocklevel.toLowerCase()&&(c[a.modelcode].stocklevel="inStock"),a.usp))for(b=0;b<a.usp.length;b++)c[a.modelcode].usp[b]=a.usp[b]})):(BC_GROUP.services&&0<BC_GROUP.services.length&&$.each(BC_GROUP.services,function(b,a){"ADD-ON"==a.serviceType&&"N"==a.displayYn&&(BC_MODEL.addOnsYn="N")}),bc_summary.goToCart(),window.sg.components.addOnsPage.reInit(),window.sg.components.addOnsPage.cardSlice(),window.sg.components.addOnsPage.sameHeight(),
console.log("No Related Product--"))},error:function(){BC_GROUP.services&&0<BC_GROUP.services.length&&$.each(BC_GROUP.services,function(b,a){"ADD-ON"==a.serviceType&&"N"==a.displayYn&&(BC_MODEL.addOnsYn="N")});window.sg.components.bcProgressbar.hide();bc_summary.goToCart();window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight();console.log("Related Products API Error--")},complete:function(){y(a)}})}function V(a){var c="";$("#shopParmLang").val()&&
(c="\x26lang\x3d"+$("#shopParmLang").val());var e="true"===$("#isEppPage").val()||"undefined"!==typeof isSaleApplicationCookie&&isSaleApplicationCookie?{withCredentials:!0}:{};null!=K.products&&0<K.products.length?(Q(K.products),y(a)):$.ajax({url:COMMONMETADATA.hyblisStoreDomain+"/tokocommercewebservices/v2/"+multistoreSiteCode+"/products/"+a+"/relatedProducts?fields\x3dSIMPLE_INFO\x26queryType\x3dSELECTION_OF_GIFT"+c,type:"GET",dataType:"json",cache:!0,crossDomain:!0,xhrFields:e,timeout:1E4,beforeSend:function(){window.sg.components.bcProgressbar.show(!0)},
success:function(b){null!=b.products&&0<b.products.length?Q(b.products):(bc_summary.goToCart(),window.sg.components.addOnsPage.reInit(),window.sg.components.addOnsPage.cardSlice(),window.sg.components.addOnsPage.sameHeight(),console.log("No Related Product--"))},error:function(){bc_summary.goToCart();window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight();console.log("Related Products API Error--")},complete:function(){y(a)}})}
function Q(a){F();$.each(a,function(a,e){c[e.modelcode]={};c[e.modelcode].modelcode=e.modelcode;c[e.modelcode].groupCode="";c[e.modelcode].price="";c[e.modelcode].priceValue="";c[e.modelcode].promotionPrice="";c[e.modelcode].promotionPriceValue="";c[e.modelcode].usp={};e.price&&(c[e.modelcode].price=A?currencyComma(e.price.value,currency):e.price.formattedValue,c[e.modelcode].priceValue=e.price.value,e.promotionPrice?(c[e.modelcode].promotionPrice=A?currencyComma(e.promotionPrice.value,currency):
e.promotionPrice.formattedValue,c[e.modelcode].promotionPriceValue=e.promotionPrice.value):(c[e.modelcode].promotionPrice=A?currencyComma(e.price.value,currency):e.price.formattedValue,c[e.modelcode].promotionPriceValue=e.price.value));e.stock&&(c[e.modelcode].stocklevel=e.stock.stockLevelStatus);e.groupCode&&(c[e.modelcode].groupCode=e.groupCode);B[e.groupCode]=[];"F-"==e.modelcode.substr(0,2)&&(e.picture&&(c[e.modelcode].imageUrl=e.picture.url),e.name&&(c[e.modelcode].name=e.name),e.stock&&"outofstock"==
e.stock.stockLevelStatus.toLowerCase()&&(c[e.modelcode].stocklevel="inStock"));if(e.usp)for(a=0;a<e.usp.length;a++)c[e.modelcode].usp[a]=e.usp[a]})}function y(a){var l=$("#apiStageInfo").val(),e=$("#searchDomain").val(),b=[];$.each(c,function(a,c){"F-"!=c.modelcode.substr(0,2)&&(B[c.groupCode]=[],b.push(c.modelcode))});var t={siteCode:siteCode,modelList:b.toString(),saleSkuYN:"N",onlyRequestSkuYN:"Y"};"Y"==multiStoreYn&&(t.shopSiteCd=multistoreSiteCode);var m="true"===$("#isEppPage").val(),p=m?"epp/v2":
"b2c",n=e+"/"+l+"/"+p+"/product/card/detail/hybris";if("ca"==siteCode||"ca_fr"==siteCode){n=e+"/"+l+"/"+p+"/product/card/detail/global";var u=$.cookies.get("country_region",{domain:".samsung.com"})?$.cookies.get("country_region",{domain:".samsung.com"}):"CA-ON";t.regionCode=u}"NewHybris"==BC_GROUP.storeType&&(t={siteCode:siteCode,modelList:b.toString(),commonCodeYN:"N",saleSkuYN:"N",onlyRequestSkuYN:"Y"},n=e+"/"+l+"/"+p+"/product/card/detail/newhybris");m&&(t.companyCode=$("#eppCompanyCode").val(),
t.shopSkuYN="N",window.sg.epp.common.isUserGroupPricing&&(t.groupName=window.sg.epp.common.groupName),""!=window.sg.epp.common.userStoreId&&(t.o2oId=window.sg.epp.common.userStoreId));b&&0<b.length?$.ajax({url:n,type:"GET",data:t,dataType:"json",async:!1,cache:!0,timeout:1E4,beforeSend:function(){window.sg.components.bcProgressbar.show(!0)},success:function(b){200==b.response.statusCode&&$.each(b.response.resultData.productList,function(b,a){b=a.modelList;null!=b&&0<b.length&&$.each(b,function(b,
e){if("F-"!=e.modelCode.substr(0,2)){c[e.modelCode]||(c[e.modelCode]={});null!=e.fmyChipList&&0<e.fmyChipList.length&&(b=e.fmyChipList.filter(function(b){return"COLOR"==b.fmyChipType}),b[0]&&(c[e.modelCode].optionType=b[0].fmyChipType,c[e.modelCode].optionCode=b[0].fmyChipCode,c[e.modelCode].optionEngName=b[0].fmyChipName,c[e.modelCode].optionName=b[0].fmyChipLocalName));if(null==c[e.modelCode].name||""==c[e.modelCode].name)c[e.modelCode].name=e.displayName?e.displayName:"";if(null==c[e.modelCode].price||
""==c[e.modelCode].price)A?e.price&&(c[e.modelCode].price=currencyComma(e.price,currency)):e.priceDisplay&&(c[e.modelCode].price=e.priceDisplay);if(null==c[e.modelCode].promotionPrice||""==c[e.modelCode].promotionPrice)A?e.promotionPrice&&(c[e.modelCode].promotionPriceValue=currencyComma(e.promotionPrice,currency)):c[e.modelCode].promotionPrice=e.promotionPriceDisplay?e.promotionPriceDisplay:e.priceDisplay;null!=c[e.modelCode].priceValue&&""!=c[e.modelCode].priceValue||!e.priceDisplay||(c[e.modelCode].priceValue=
e.priceDisplay);if(null==c[e.modelCode].promotionPriceValue||""==c[e.modelCode].promotionPriceValue)c[e.modelCode].promotionPriceValue=e.promotionPriceDisplay?e.promotionPriceDisplay:e.priceDisplay;e.thumbUrl&&(c[e.modelCode].imageUrl=e.thumbUrl);e.thumbUrlAlt&&(c[e.modelCode].imageUrlAlt=e.thumbUrlAlt);e.modelName&&(c[e.modelCode].modelname=e.modelName);e.pviTypeName&&(c[e.modelCode].pviTypeName=e.pviTypeName);e.pviSubtypeName&&(c[e.modelCode].pviSubtypeName=e.pviSubtypeName);a.categorySubTypeEngName&&
(c[e.modelCode].categorySubTypeEngName=a.categorySubTypeEngName);if(null!=e.usp&&0<e.usp.length)for(b=0;b<e.usp.length;b++)c[e.modelCode].usp[b]=e.usp[b]}})})},error:function(){window.sg.components.bcProgressbar.hide();console.log("Search API Error--")},complete:function(){N[a]=c;D[a]=B;ea(a);h(a,!0);O();window.sg.components.bcProgressbar.hide()}}):(N[a]=c,D[a]=B,ea(a),h(a,!0),O(),window.sg.components.bcProgressbar.hide())}function Y(a){var c="";$("#shopParmLang").val()&&(c="\x26lang\x3d"+$("#shopParmLang").val());
var e="true"===$("#isEppPage").val()?{withCredentials:!0}:{};return $.ajax({url:COMMONMETADATA.hyblisStoreDomain+"/tokocommercewebservices/v2/"+multistoreSiteCode+"/products/"+a+"/relatedProducts?fields\x3dSIMPLE_INFO\x26queryType\x3dSELECTION_OF_GIFT_FOR_SERVICETYPE\x26serviceId\x3d"+BC_CARTDATA.tariffData[0].modelCode+c,type:"GET",dataType:"json",cache:!0,crossDomain:!0,xhrFields:e,timeout:1E4,beforeSend:function(){window.sg.components.bcProgressbar.show(!0);K={}},error:function(){},complete:function(){window.sg.components.bcProgressbar.hide()}})}
function h(a,c){$(".hubble-addon-page__category-wrapper").hide();if(N[a]){var e=0;$.each(N[a],function(b,c){c.groupCode&&c.name&&(c.optionCode?D[a][c.groupCode].push(c):(D[a][c.groupCode+e]=[],D[a][c.groupCode+e].push(c),e++))});var b="",h=1,l=1;b+='            \x3cdiv class\x3d"hubble-addon-page__list"\x3e';b+='                \x3cdiv class\x3d"hubble-addon-page__list-inner list-four-center"\x3e';$.each(D[a],function(a,c){for(a=0;a<c.length;a++)G.push(addOnsImgDomain(c[a].imageUrl));for(i=0;i<G.length;i++)Z[i]=
new Image,Z[i].src=G[i];if(c[0]){var e=-1;a=c[0].stocklevel;$.each(c,function(b,a){"outofstock"!=a.stocklevel.toLowerCase()&&-1==e&&(e=b)});-1==e&&(e=0);var m=null!=c[e].price&&""!=c[e].price?c[e].price:"",t=null!=c[e].promotionPrice&&""!=c[e].promotionPrice?c[e].promotionPrice:"",p=null!=c[e].priceValue&&""!=c[e].priceValue?c[e].priceValue:"",n=null!=c[e].promotionPriceValue&&""!=c[e].promotionPriceValue?c[e].promotionPriceValue:"";a=c[e].stocklevel;var r=c[e].imageUrl,u="";c[e].imageUrl&&""!=c[e].imageUrl&&
(u=r.substring(0,8));if(""===r||"/medias/"==u)r="/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg";r&&"/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg"!=r&&"/medias/"!=u&&(r=addOnsImgDomain(r));u=c[e].imageUrlAlt?c[e].imageUrlAlt:"";b+='                    \x3cdiv class\x3d"hubble-addon-page__item';1==l&&(b+=" is-selected");b+='"\x3e';b+='                        \x3cdiv class\x3d"hubble-addon-page__item-inner"\x3e';b+='                            \x3cdiv class\x3d"hubble-item-card"\x3e';
b+='\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"hubble-item-card__select"\x3e';b+='    \t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"hubble-pd-radio js-radio-wrap';b="F-"==c[e].modelcode.substr(0,2)?b+"\tadd-bundle":b+" add-ons";"F-"!=c[e].modelcode.substr(0,2)&&"outofstock"==a.toLowerCase()&&(b+=" is-disabled");b+='" data-mo-code\x3d"'+c[e].modelcode+'" data-mo-name\x3d"'+c[e].modelname+'" data-mo-bundle-name\x3d"'+escapeHtml(c[e].name)+'" data-mo-stocklevel\x3d"'+a.toLowerCase()+'" data-displayName\x3d"'+escapeHtml(c[e].name)+
'" data-pviTypeName\x3d'+c[e].pviTypeName+'" data-pviSubtypeName\x3d"'+c[e].pviSubtypeName+'" data-categorySubTypeEngName\x3d"'+c[e].categorySubTypeEngName+'"\x3e';b+='        \t\t\t\t\t\t\t\t\t\x3cinput type\x3d"radio" id\x3d"freeGift-rdo'+l+'" name\x3d"freeGift" class\x3d"hubble-pd-radio__input" data-modelcode\x3d"'+c[e].modelname+'" data-modelname\x3d"'+c[e].modelname+'" an-tr\x3d"bridge_free gift-'+bcPageTrack()+'-select item-option_click" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"free gift:add item"';
"outofstock"==a.toLowerCase()&&(b+=" disabled\x3ddisabled");b+="\x3e";b+='        \t\t\t\t\t\t\t\t\t\x3clabel for\x3d"freeGift-rdo'+l+'" class\x3d"hubble-pd-radio__label';b="F-"==c[e].modelcode.substr(0,2)?b+' hubble-pd-popup-opener" data-layer-target\x3d"#hubble-addon-bundle-layer"\x3e':b+'"\x3e';b+='            \t\t\t\t\t\t\t\t\t\x3cspan class\x3d"s-box-wrap"\x3e\x3cspan class\x3d"s-box"\x3e\x3c/span\x3e\x3c/span\x3e';b+='            \t\t\t\t\t\t\t\t\t\x3cstrong class\x3d"blind"\x3e'+Granite.I18n.get("Select Free Gift",
null,i18n_hint)+"\x3c/strong\x3e";b+="        \t\t\t\t\t\t\t\t\t\x3c/label\x3e";b+="    \t\t\t\t\t\t\t\t\t\x3c/div\x3e";b+="\t\t\t\t\t\t\t\t\t\x3c/div\x3e";b+='                                \x3cdiv class\x3d"hubble-item-card__img"\x3e';b+="                                    \x3cpicture\x3e";b+='                                    \t\x3cdiv class\x3d"image"\x3e';b+='                                    \t\t\x3cimg class\x3d"image__preview lazy-load responsive-img" data-desktop-src\x3d"'+P(r)+'" data-mobile-src\x3d"'+
P(r)+'" alt\x3d"'+u+'" aria-hidden\x3d"true"\x3e';b+='                                    \t\t\x3cimg class\x3d"image__main lazy-load responsive-img" data-desktop-src\x3d"'+P(r)+'" data-mobile-src\x3d"'+P(r)+'" alt\x3d"'+u+'"\x3e';b+="\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e";b+="                                    \x3c/picture\x3e";b+="                                \x3c/div\x3e";b+='                                \x3cdiv class\x3d"hubble-item-card__content"\x3e';b+='                                    \x3cdiv class\x3d"hubble-item-card__product"\x3e';
b+='                                        \x3cstrong class\x3d"s-txt-title"\x3e'+c[e].name+"\x3c/strong\x3e";b+="                                    \x3c/div\x3e";b+='                                    \x3cdiv class\x3d"hubble-item-card__option-wrap"\x3e';b+='\t\t\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"option-selector option-selector__color-text hubble-item-card__option-color"\x3e';b+='\t\t\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"option-selector__color-name"\x3e'+Granite.I18n.get("Color",null,i18n_hint)+
' : \x3cspan class\x3d"color-name-text"\x3e'+c[e].optionName+"\x3c/span\x3e\x3c/div\x3e";b+='\t\t\t\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"option-selector__wrap option-selector__wrap--color-chip" data-desktop-view\x3d"5" data-mobile-view\x3d"4"\x3e';b+='                                        \t\t\t\x3cdiv class\x3d"option-selector__swiper"\x3e';b+='                                        \t\t\t\t\x3cdiv class\x3d"option-selector__swiper-container"\x3e';b+='                                        \t\t\t\t\t\x3cdiv class\x3d"option-selector__swiper-wrapper" role\x3d"list"\x3e';
"F-"!=c[0].modelcode.substr(0,2)&&$.each(c,function(a,l){if(0<c.length&&l.stocklevel&&l.price&&""!=l.optionCode&&"COLOR"==l.optionType){b+='                                            \x3cspan class\x3d"option-selector__swiper-slide hubble-item-card__option-color-item';"F-"!=l.modelcode.substr(0,2)&&"outofstock"==l.stocklevel.toLowerCase()&&(b+=" is-item-disabled");var m=l.imageUrlAlt?l.imageUrlAlt:"";b+='" role\x3d"listitem"';b+=' data-mo-code\x3d"'+l.modelcode+'" data-mo-name\x3d"'+l.modelname+
'" data-imgAlt\x3d"'+m+'" ';b+=' data-name\x3d"'+l.name+'" data-imgpath\x3d"'+l.imageUrl+'" ';b+=' data-groupCode\x3d"'+l.groupCode+'"';b+=' data-fmyChipCode\x3d"'+l.optionCode+'"';b+=' data-mo-stocklevel\x3d"'+l.stocklevel+'"';if("se"==siteCode||"dk"==siteCode||"no"==siteCode||"fi"==siteCode||"za"==siteCode){var t=null!=l.price&&""!=l.price?l.price.replace(/(\s*)/g,""):"",f=null!=l.promotionPrice&&""!=l.promotionPrice?l.promotionPrice.replace(/(\s*)/g,""):"",k=null!=l.priceValue&&""!=l.priceValue?
l.priceValue.replace(/(\s*)/g,""):"";m=null!=l.promotionPriceValue&&""!=l.promotionPriceValue?l.promotionPriceValue.replace(/(\s*)/g,""):"";b+=' data-apiPrice\x3d"'+t+'" ';""!=f&&f&&f!=t&&(b+=' data-apiPromotionPrice\x3d"'+f+'" ');b+=' data-apiPriceValue\x3d"'+k+'" ';""!=m&&m&&m!=k?(b+=' data-apiPromotionPriceValue\x3d"'+m+'" ',t=!1,Number.isInteger(parseFloat(p))&&Number.isInteger(parseFloat(n))&&(t=!0),f=Number(parseFloat(p)-parseFloat(n)).toFixed(2),t&&(f=Number(parseFloat(p)-parseFloat(n))),b+=
' data-apiSavePriceValue\x3d"'+f+'" ',b+=' data-apiTotalPriceValue\x3d"'+m+'" '):(b+=' data-apiSavePriceValue\x3d""',b+=' data-apiTotalPriceValue\x3d"'+k+'" ')}b+="\x3e";b+='                                                \x3cspan class\x3d"option-selector__color hubble-pd-radio s-type-color js-radio-wrap';e==a&&(b+=" is-checked");b+='"\x3e';b+='                                                    \x3cinput type\x3d"radio" id\x3d"addon-color_'+l.modelcode+'" name\x3d"addon-color_'+l.groupCode+'" class\x3d"hubble-pd-radio__input"';
b+=' an-tr\x3d"bridge_free gift-'+bcPageTrack()+'-text- select" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"free gift:'+l.optionType.toLowerCase()+":"+l.optionEngName.toLowerCase()+'" data-modelname\x3d"'+l.modelname+'" data-modelcode\x3d"'+l.modelcode+'"';e==a&&(b+=" checked\x3dchecked");b+="\x3e";b+='                                                    \x3clabel for\x3d"addon-color_'+l.modelcode+'" class\x3d"hubble-pd-radio__label"\x3e';b+='                                                    \t\t\x3cspan class\x3d"option-selector__color-code" style\x3d"background-color:'+
l.optionCode+'"\x3e';b+=l.optionEngName;b+="                                                    \t\t\x3c/span\x3e";b+='                                                    \t\t\x3cspan class\x3d"hidden"\x3e'+l.optionName+"\x3c/span\x3e";b+="                                                    \x3c/label\x3e";b+="                                                \x3c/span\x3e";b+="                                            \x3c/span\x3e";h++}});b+="                                      \t\t\t\t\t\x3c/div\x3e";
b+="                                      \t\t\t\t\x3c/div\x3e";b+='                                                     \x3cbutton type\x3d"button" class\x3d"option-selector__button-prev" aria-label\x3d"'+Granite.I18n.get("Previous",null,i18n_hint)+'" role\x3d"button" aria-disabled\x3d"true"\x3e';b+='                                                     \t\x3cspan class\x3d"hidden"\x3e'+Granite.I18n.get("Previous",null,i18n_hint)+"\x3c/span\x3e";b+='                                                         \t\x3csvg class\x3d"icon" focusable\x3d"false" aria-hidden\x3d"true"\x3e';
b+='                                                             \t\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#previous-regular"\x3e\x3c/use\x3e';b+="                                                         \t\x3c/svg\x3e";b+="                                                     \x3c/button\x3e";b+='                                                     \x3cbutton type\x3d"button" class\x3d"option-selector__button-next" aria-label\x3d"'+
Granite.I18n.get("Next",null,i18n_hint)+'" role\x3d"button" aria-disabled\x3d"true"\x3e';b+='                                                     \t\x3cspan class\x3d"hidden"\x3e'+Granite.I18n.get("Next",null,i18n_hint)+"\x3c/span\x3e";b+='                                                     \t\t\x3csvg class\x3d"icon" focusable\x3d"false" aria-hidden\x3d"true"\x3e';b+='                                                     \t\t\t\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#next-regular"\x3e\x3c/use\x3e';
b+="                                                     \t\t\x3c/svg\x3e";b+="                                                     \x3c/button\x3e";b+="                                      \t\t\t\x3c/div\x3e";b+="                                      \t\t\x3c/div\x3e";b+="                                      \t\x3c/div\x3e";b+="                                 \t\x3c/div\x3e";b+="                                 \x3c/div\x3e";b+='\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"hubble-item-card__price"\x3e';
"se"==siteCode||"dk"==siteCode||"no"==siteCode||"fi"==siteCode?(""!=t&&t&&t!=m?(r=!1,Number.isInteger(parseFloat(p))&&Number.isInteger(parseFloat(n))&&(r=!0),u=Number(parseFloat(p)-parseFloat(n)).toFixed(2),r&&(u=Number(parseFloat(p)-parseFloat(n))),b+='\t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price-wrap"\x3e',b+='    \t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price-default"\x3e\x3cdel\x3e\x3cspan class\x3d"blind"\x3e'+Granite.I18n.get("List price",null,i18n_hint)+"\x3c/span\x3e"+m+"\x3c/del\x3e\x3c/span\x3e",
b+='    \t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price-save"\x3e'+Granite.I18n.get("Save {0}",currencyComma(parseFloat(u),currency),i18n_hint)+"\x3c/span\x3e",b+="    \t\t\t\t\t\t\t\t\x3cbr\x3e",b+='    \t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price"\x3e\x3cspan class\x3d"blind"\x3e'+Granite.I18n.get("Discount price",null,i18n_hint)+"\x3c/span\x3e"+t+"\x3c/span\x3e"):(b+='\t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price-wrap"\x3e',b+='    \t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price"\x3e'+m+"\x3c/span\x3e"),b+="\t\t\t\t\t\t\t\t\x3c/span\x3e"):
"za"==siteCode&&""!=m&&m&&""!=t&&t&&t!=m&&4E3<=parseFloat(p)-parseFloat(n)&&(r=!1,Number.isInteger(parseFloat(p))&&Number.isInteger(parseFloat(n))&&(r=!0),u=Number(parseFloat(p)-parseFloat(n)).toFixed(2),r&&(u=Number(parseFloat(p)-parseFloat(n))),b+='\t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price-wrap"\x3e',b+='    \t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price-default"\x3e\x3cdel\x3e\x3cspan class\x3d"blind"\x3e'+Granite.I18n.get("List price",null,i18n_hint)+"\x3c/span\x3e"+currencyComma(p,currency)+"\x3c/del\x3e\x3c/span\x3e",
b+='    \t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price-save"\x3e'+Granite.I18n.get("Save {0}",currencyComma(u,currency),i18n_hint)+"\x3c/span\x3e",b+="    \t\t\t\t\t\t\t\t\x3cbr\x3e",b+='    \t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price"\x3e\x3cspan class\x3d"blind"\x3e'+Granite.I18n.get("Discount price",null,i18n_hint)+"\x3c/span\x3e"+currencyComma(n,currency)+"\x3c/span\x3e",b+="\t\t\t\t\t\t\t\t\x3c/span\x3e");b+="\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e";b+='\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"hubble-item-card__message"\x3e';
b+='    \t\t\t\t\t\t\t\t\t\x3cspan class\x3d"s-alert-text"\x3e';"F-"!=c[e].modelcode.substr(0,2)&&"outofstock"==a.toLowerCase()&&(b+=Granite.I18n.get("Out of Stock",null,i18n_hint));b+="\x3c/span\x3e";b+="\t\t\t\t\t\t\t\t\t\x3c/div\x3e";b+="                            \x3c/div\x3e";b+="                        \x3c/div\x3e";b+="                    \x3c/div\x3e";l++}});c=r(!0,l);""!=c&&(b+=c);b+="                \x3c/div\x3e";b+="            \x3c/div\x3e";M&&(b+=aa());$(".hubble-addon-page__inner").append(b)}else b=
r(!1),""!=b&&$(".hubble-addon-page__inner").append(b);"se"!=siteCode&&"dk"!=siteCode&&"no"!=siteCode&&"fi"!=siteCode&&n();c=$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap:first").attr("data-mo-code");isNotEmpty(c)&&"F-"==c.substr(0,2)?C():S();var p=[];$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap.add-bundle").each(function(){null!=$(this).attr("data-mo-code")&&""!=$(this).attr("data-mo-code")&&
p.push($(this).attr("data-mo-code"))});bc_addon_page_bundle.getRelatedProductsSimpleInfo(p,"gift");_satellite.setVar("Add Page Name","free gift");_satellite.track("page view");window.sg.components.hubblePageLoading.hide();window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight()}function n(){$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap").each(function(){$(this).removeClass("is-checked");
$(this).find(".hubble-pd-radio__input").removeAttr("checked").prop("checked",!1);$(".hubble-addon-page__item").removeClass("is-selected");if("outofstock"!=$(this).attr("data-mo-stocklevel"))return $(this).find(".hubble-pd-radio__input").attr("checked","checked").prop("checked",!0),$(this).addClass("is-checked"),$(this).closest(".hubble-addon-page__item").addClass("is-selected"),BC_CARTDATA.preSelected=$(this).closest(".hubble-addon-page__item").index(),!1});if(BC_MODEL.isFreeSmc&&!$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").is(":checked")){var a=
$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap.add-smc:eq(0)");a.find(".hubble-pd-radio__input").attr("checked","checked").prop("checked",!0);a.addClass("is-checked");a.closest(".hubble-addon-page__item").addClass("is-selected")}$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").is(":checked")||(a=$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap:eq(0)"),
a.find(".hubble-pd-radio__input").attr("checked","checked").prop("checked",!0),a.parents(".hubble-item-card__select").addClass("is-checked"),a.closest(".hubble-addon-page__item").addClass("is-selected"),$(".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta .s-cta-text").text(Granite.I18n.get("Skip",null,i18n_hint)),$(".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta a").addClass("add-skip").removeClass("cta--disabled"),$(".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta a").attr("aria-disabled",
!1))}function E(a,c){if(smcProducts[BC_MODEL.modelCode])"NewHybris"==$("#storeType").val()?V(BC_MODEL.modelCode):U(BC_MODEL.modelCode);else{a="";a=$("#bcStoreDomain").val()+"/"+multistoreSiteCode+"/servicesv2/getSmcSimpleInfo?productCode\x3d"+BC_MODEL.modelCode;c="true"===$("#isEppPage").val()?{withCredentials:!0}:{};var e="jQuery1910499421933433041_131";if("ca"==siteCode||"ca_fr"==siteCode)e+=Math.floor(100*Math.random());a="Y"==hybrisJsonYn?$.ajax({url:a,type:"GET",dataType:"json",timeout:1E4,cache:!0,
crossDomain:!0,xhrFields:{withCredentials:!0}}):$.ajax({url:a,type:"GET",dataType:"jsonp",jsonpCallback:e,timeout:1E4,xhrFields:c,async:!1,cache:!0});a.done(function(b){smcProducts[BC_MODEL.modelCode]=b;"NewHybris"==$("#storeType").val()?(SERVICEDATA.globalCareData=b,V(BC_MODEL.modelCode)):U(BC_MODEL.modelCode)});a.fail(function(){"NewHybris"==$("#storeType").val()?V(BC_MODEL.modelCode):U(BC_MODEL.modelCode)})}}function r(a,c){var e="";if(BC_MODEL.isFreeSmc&&smcProducts[BC_MODEL.modelCode]){var b=
smcProducts[BC_MODEL.modelCode];if(null!=b&&null!=b.smcs&&0<b.smcs.length){a||(e+='\x3cdiv class\x3d"hubble-addon-page__list"\x3e',e+='  \x3cdiv class\x3d"hubble-addon-page__list-inner list-four-center"\x3e');var l=void 0!=c&&""!=c?c:1,h=0;$.each(b.smcs,function(b,a){if("monthly"!=a.paymentCycle&&0==h){b=a.price;var c=isNotEmpty(a.promotionPrice)?a.promotionPrice:a.price,m=isNotEmpty(a.summary)?a.summary:"";e+='\x3cdiv class\x3d"hubble-addon-page__item';1==l&&(e+=" is-selected");e+='"\x3e';e+='  \x3cdiv class\x3d"hubble-addon-page__item-inner"\x3e';
e+='    \x3cdiv class\x3d"hubble-item-card"\x3e';e+='      \x3cdiv class\x3d"hubble-item-card__select"\x3e';e+='        \x3cdiv class\x3d"hubble-pd-radio js-radio-wrap add-smc';1==l&&(e+=" is-checked");e+='" data-smc-price\x3d"'+b+'" data-smc-promotionprice\x3d"'+c+'" data-smc-code\x3d"'+a.smcCode+'" data-smc-name\x3d"'+a.title+'"\x3e';e+='        \x3cinput type\x3d"radio" id\x3d"freeGift-rdo'+l+'" class\x3d"hubble-pd-popup-opener hubble-pd-radio__input" data-layer-target\x3d"#hubble-care-layer" name\x3d"freeGift" data-modelcode\x3d"'+
a.smcCode+'" data-modelname\x3d"" an-tr\x3d"bridge_free gift-'+bcPageTrack()+'-select item-option_click" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"free gift:add item"';1==l&&(e+=' checked\x3d"checked"');e+="\x3e";e+='          \x3clabel for\x3d"freeGift-rdo'+l+'" class\x3d"hubble-pd-radio__label" title\x3d"'+Granite.I18n.get("Samsung Care+ layer popup",null,i18n_hint)+'"\x3e';e+='            \x3cspan class\x3d"s-box-wrap"\x3e\x3cspan class\x3d"s-box"\x3e\x3c/span\x3e\x3c/span\x3e';e+='            \x3cstrong class\x3d"blind"\x3e'+
Granite.I18n.get("Select Samsung Care+",null,i18n_hint)+"\x3c/strong\x3e";e+="          \x3c/label\x3e";e+="        \x3c/div\x3e";e+="      \x3c/div\x3e";e+='      \x3cdiv class\x3d"hubble-item-card__img"\x3e';e+="        \x3cpicture\x3e";e+='          \x3csource srcset\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/insurance-ico.svg" media\x3d"(max-width: 768px)"\x3e';e+='          \x3cimg class\x3d"js-img-src" src\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/insurance-ico.svg" data-src-pc\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/insurance-ico.svg" data-src-mobile\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/insurance-ico.svg" alt\x3d""\x3e';
e+="        \x3c/picture\x3e";e+="      \x3c/div\x3e";e+='      \x3cdiv class\x3d"hubble-item-card__content"\x3e';e+='        \x3cdiv class\x3d"hubble-item-card__product"\x3e';e+='          \x3cstrong class\x3d"s-txt-title"\x3e'+a.title+"\x3c/strong\x3e";e+="        \x3c/div\x3e";e+='        \x3cdiv class\x3d"hubble-item-card__option-wrap"\x3e';e+='          \x3cdiv class\x3d"hubble-item-card__option-color s-color-slick"\x3e\x3c/div\x3e';e+='          \x3cp class\x3d"s-txt-desc"\x3e'+m+"\x3c/p\x3e";
e+="        \x3c/div\x3e";e+="      \x3c/div\x3e";e+='      \x3cdiv class\x3d"hubble-item-card__price"\x3e';e+="      \x3c/div\x3e";e+='      \x3cdiv class\x3d"hubble-item-card__message"\x3e\x3c/div\x3e';e+="    \x3c/div\x3e";e+="  \x3c/div\x3e";e+="\x3c/div\x3e";l++;h++}});a||(e+="  \x3c/div\x3e",e+="\x3c/div\x3e")}}return e}function aa(){var a="";if("it"==siteCode)return $.each(p,function(c,e){isNotEmpty(e.content)&&(a+='\x3cdiv class\x3d"hubble-addon-page__confirm-terms"\x3e',a+=' \x3cdiv class\x3d"hubble-addon-page__confirm-terms-checkbox-wrap"',
a+="\x3e",a+='   \x3cdiv class\x3d"checkbox-v2"\x3e',a+='     \x3cinput class\x3d"checkbox-v2__input" type\x3d"checkbox" name\x3d"checkbox" id\x3d"free-gift--terms-checkbox-'+(parseInt(c)+1)+'"\x3e',a+='     \x3clabel class\x3d"checkbox-v2__label" for\x3d"free-gift--terms-checkbox-'+(parseInt(c)+1)+'"\x3e',a+='       \x3cspan class\x3d"checkbox-v2__label-box-wrap"\x3e',a+='         \x3cspan class\x3d"checkbox-v2__label-box"\x3e',a+='           \x3csvg class\x3d"checkbox-v2__label-box-icon" focusable\x3d"false" aria-hidden\x3d"true"\x3e',
a+='             \x3cuse xlink:href\x3d"#done-bold" href\x3d"#done-bold"\x3e\x3c/use\x3e',a+="           \x3c/svg\x3e",a+="         \x3c/span\x3e",a+="       \x3c/span\x3e",a+='       \x3cspan class\x3d"checkbox-v2__label-text"\x3e'+e.content+" \x3c/span\x3e",a+="     \x3c/label\x3e",a+="   \x3c/div\x3e",a+=" \x3c/div\x3e",a+="\x3c/div\x3e")}),$(".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta .addon-continue-btn .s-cta-text").html(Granite.I18n.get("Partecipa e continua",null,i18n_hint)),
a}function L(){var a=ba,c={};"true"===$("#isEppPage").val()&&(c={withCredentials:!0},a=COMMONMETADATA.hyblisStoreDomain);return $.ajax({url:a+"/tokocommercewebservices/v2/"+multistoreSiteCode+"/tnc?context\x3dFOC\x26value\x3d"+BC_PRODUCTS[BC_MODEL.modelCode].categoryGroupCode,type:"GET",dataType:"json",cache:!0,crossDomain:!0,xhrFields:c,timeout:1E4,success:function(a){isNotEmpty(a)&&$.each(a,function(b,a){p[b]={};p[b].code="";p[b].title="";p[b].content="";p[b].required="";p[b].type="";p[b].code=
a.code;p[b].title=a.title;p[b].content=a.content;p[b].required=a.required;p[b].type=a.type})}})}function C(){BC_CARTDATA.giftCareData=[];BC_CARTDATA.freeGiftBundleData=[];$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked:not(.is-disabled)").each(function(){var a=[];$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap.add-bundle.is-checked").each(function(){null!=$(this).attr("data-mo-code")&&
""!=$(this).attr("data-mo-code")&&a.push($(this).attr("data-mo-code"))});bc_addon_page_bundle.getRelatedProductsSimpleInfo(a,"gift")});bc_summary.setCtaTagging()}function S(){BC_CARTDATA.giftCareData=[];BC_CARTDATA.freeGiftData=[];BC_CARTDATA.freeGiftBundleData=[];$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked:not(.is-disabled)").each(function(){if($(this).hasClass("add-smc")){var a=$(this).find(".hubble-pd-popup-opener").attr("data-layer-target");
a&&0!=a.length||(a={modelCode:$(this).attr("data-smc-code"),modelName:$(this).attr("data-smc-name"),price:$(this).attr("data-smc-price"),salePrice:$(this).attr("data-smc-promotionprice")},BC_CARTDATA.giftCareData.push(a))}else a={addonModelCode:$(this).attr("data-mo-code"),addonModelName:$(this).attr("data-mo-name"),dtmModelCode:$(this).attr("data-mo-code"),addonModelPrice:0,addonModelOriginPrice:0,displayName:$(this).attr("data-displayName"),pviTypeName:$(this).attr("data-pviTypeName"),pviSubtypeName:$(this).attr("data-pviSubtypeName"),
categorySubTypeEngName:$(this).attr("data-categorySubTypeEngName"),modelrevenue:0,modelqty:1},BC_CARTDATA.freeGiftData.push(a)});bc_summary.setCtaTagging()}function O(){var a=$(".hubble-addon-page.is-gift-type .hubble-addon-page__top-inner .hubble-addon-page__product-cta a");if("se"==siteCode||"dk"==siteCode||"no"==siteCode||"fi"==siteCode)a.removeClass("cta--disabled"),a.attr("aria-disabled",!1);else if(fa)BC_CARTDATA.freeGiftData=[],$(".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta .s-cta-text").text(Granite.I18n.get("Skip",
null,i18n_hint)),$(".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta a").addClass("add-skip").removeClass("cta--disabled"),$(".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta a").attr("aria-disabled",!1);else{if(0==$(".hubble-addon-page.is-gift-type .hubble-addon-page__list").length)a.removeClass("cta--disabled"),a.attr("aria-disabled",!1);else{var c=$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked:not(.is-disabled)");
0<c.length?c.hasClass("add-smc")||"outofstock"!=c.attr("data-mo-stocklevel").toLowerCase()?(a.removeClass("cta--disabled"),a.attr("aria-disabled",!1)):(a.addClass("cta--disabled"),a.attr("aria-disabled",!0)):a.hasClass("add-skip")?(a.removeClass("cta--disabled"),a.attr("aria-disabled",!1),BC_MODEL.freeGiftOos=!0,bc_summary.setCtaTagging()):(a.addClass("cta--disabled"),a.attr("aria-disabled",!0))}if(M&&!a.hasClass("cta--disabled")&&0<$(".hubble-addon-page.is-gift-type .hubble-addon-page__confirm-terms-checkbox-wrap").length)for(var e=
c=0;e<$(".hubble-addon-page__confirm-terms-checkbox-wrap .checkbox-v2__input").length;e++)$(".hubble-addon-page__confirm-terms-checkbox-wrap #free-gift--terms-checkbox-"+(e+1)).closest(".hubble-addon-page__confirm-terms-checkbox-wrap").find(".checkbox-v2__input").is(":checked")&&(c+=1),c==$(".hubble-addon-page__confirm-terms-checkbox-wrap .checkbox-v2__input").length?(a.removeClass("cta--disabled"),a.attr("aria-disabled",!1)):(a.addClass("cta--disabled"),a.attr("aria-disabled",!0))}}function P(a){""!=
a&&null!=a&&-1!=a.indexOf("$ORIGIN_PNG$")&&(a=a.replace("$ORIGIN_PNG$","$THUB_SHOP_L$"));return a}function ia(a){"confirm"==a?$(".hubble-addon-page__item").each(function(a){$(this).find(".hubble-item-card__select .js-radio-wrap").hasClass("is-checked")&&(BC_CARTDATA.preSelected=a)}):$(".hubble-addon-page__list .hubble-addon-page__item").each(function(a){BC_CARTDATA.preSelected===a?(a=$(this).find(".hubble-item-card__select .js-radio-wrap"),a.hasClass("is-checked")||(a.addClass("is-checked"),$(this).find(".hubble-item-card__select .js-radio-wrap.is-checked").closest(".hubble-addon-page__item").addClass("is-selected"),
a.find("input:radio").attr("checked","checked").prop("checked",!0))):(a=$(this).find(".hubble-item-card__select .js-radio-wrap"),a.removeClass("is-checked"),$(".hubble-addon-page__item").removeClass("is-selected"),a.find("input:radio").removeAttr("checked").prop("checked",!1))})}function ea(a){fa&&$.each(N[a],function(a,c){"outofstock"!=c.stocklevel.toLowerCase()&&(fa=!1)})}var ba=$("#bcStoreDomain").val(),c={},B={},N={},D={},p={},K={},Z=[],G=[],I="";$(".hubble-addon-page.is-gift-type");var A=!1;
if("hr"==siteCode||"si"==siteCode)A=!0;var M=!1;"it"==siteCode&&(M=!0,L());var fa=!0;$(document).off("change",".hubble-addon-page.is-gift-type .hubble-item-card__option-wrap .hubble-pd-radio__input");$(document).on("change",".hubble-addon-page.is-gift-type .hubble-item-card__option-wrap .hubble-pd-radio__input",function(a){$(this).parents(".hubble-item-card").find(".hubble-item-card__select .hubble-pd-radio.js-radio-wrap").addClass("is-checked");$(this).closest(".hubble-pd-radio").parent().hasClass("is-item-disabled")?
$(this).parents(".hubble-item-card").find(".hubble-item-card__message .s-alert-text").text(Granite.I18n.get("Out of Stock",null,i18n_hint)):$(this).parents(".hubble-item-card").find(".hubble-item-card__message .s-alert-text").text("");$(this).parents(".hubble-item-card__option-wrap").find(".hubble-pd-radio").each(function(){$(this).removeClass("is-checked");$(this).find(".hubble-pd-radio__input").removeAttr("checked").prop("checked",!1);$(".hubble-addon-page__item").removeClass("is-selected")});$(this).parent().addClass("is-checked");
$(this).attr("checked","checked").prop("checked",!0);$(this).closest(".hubble-addon-page__item").addClass("is-selected");$(this).parents(".hubble-item-card").find(".hubble-pd-radio.js-radio-wrap").attr("data-mo-code",$(this).parents(".hubble-item-card__option-color-item").attr("data-mo-code"));$(this).parents(".hubble-item-card").find(".hubble-pd-radio.js-radio-wrap").attr("data-mo-name",$(this).parents(".hubble-item-card__option-color-item").attr("data-mo-name"));$(this).parents(".hubble-item-card").find(".hubble-pd-radio.js-radio-wrap").attr("data-mo-stocklevel",
$(this).parents(".hubble-item-card__option-color-item").attr("data-mo-stocklevel"));$(this).parents(".hubble-item-card__content").find(".hubble-item-card__product strong").html($(this).parents(".hubble-item-card__option-color-item").attr("data-name"));var c="";a=$(this).parents(".hubble-item-card__option-color-item").attr("data-imgPath");c=$(this).parents(".hubble-item-card__option-color-item").attr("data-imgAlt")?$(this).parents(".hubble-item-card__option-color-item").attr("data-imgAlt"):"";a&&""!=
a&&"/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg"!=a&&a.substring(0,8);a&&""!=a||(a="/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg");"/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg"!=a&&(a=addOnsImgDomain(a));$(this).closest(".hubble-item-card").find(".hubble-item-card__img img").attr("src",P(a));$(this).closest(".hubble-item-card").find(".hubble-item-card__img source").attr("srcset",P(a));$(this).closest(".hubble-item-card").find(".hubble-item-card__img img").attr("data-src-pc",
P(a));$(this).closest(".hubble-item-card").find(".hubble-item-card__img img").attr("data-src-mobile",P(a).replace("$COMP_SHOP_LIST$","$THUB_SHOP_L$"));$(this).closest(".hubble-item-card").find(".hubble-item-card__img img").attr("alt",c);if("se"==siteCode||"dk"==siteCode||"no"==siteCode||"fi"==siteCode||"za"==siteCode)if(c="",a=$(this).parents(".hubble-item-card__option-color-item").attr("data-apiPrice"),c=$(this).parents(".hubble-item-card__option-color-item").attr("data-apiPriceValue"),a){var e=
"";var b=$(this).parents(".hubble-item-card__option-color-item").attr("data-apiPromotionPrice");e=$(this).parents(".hubble-item-card__option-color-item").attr("data-apiPromotionPriceValue");var h="";if("za"==siteCode){if(b&&""!=b&&b!=a&&4E3<=parseFloat(c)-parseFloat(e)){var m=Number(parseFloat(c)-parseFloat(e)).toFixed(2);h=h+'                                    \x3cspan class\x3d"s-price-wrap"\x3e'+('                                        \x3cspan class\x3d"s-price-default"\x3e\x3cdel\x3e\x3cspan class\x3d"blind"\x3e'+
Granite.I18n.get("List price",null,i18n_hint)+"\x3c/span\x3e"+currencyComma(c,currency)+"\x3c/del\x3e\x3c/span\x3e");h+='                                        \x3cspan class\x3d"s-price-save"\x3e'+Granite.I18n.get("Save {0}",currencyComma(parseFloat(m),currency),i18n_hint)+"\x3c/span\x3e";h=h+"                                        \x3cbr\x3e"+('                                        \x3cspan class\x3d"s-price"\x3e\x3cspan class\x3d"blind"\x3e'+Granite.I18n.get("Discount price",null,i18n_hint)+
"\x3c/span\x3e"+currencyComma(e,currency)+"\x3c/span\x3e");h+="                                    \x3c/span\x3e"}}else b&&""!=b&&b!=a?(m=Number(parseFloat(c)-parseFloat(e)).toFixed(2),h=h+'                                    \x3cspan class\x3d"s-price-wrap"\x3e'+('                                        \x3cspan class\x3d"s-price-default"\x3e\x3cdel\x3e\x3cspan class\x3d"blind"\x3e'+Granite.I18n.get("List price",null,i18n_hint)+"\x3c/span\x3e"+a+"\x3c/del\x3e\x3c/span\x3e"),h+='                                        \x3cspan class\x3d"s-price-save"\x3e'+
Granite.I18n.get("Save {0}",currencyComma(m,currency),i18n_hint)+"\x3c/span\x3e",h=h+"                                        \x3cbr\x3e"+('                                        \x3cspan class\x3d"s-price"\x3e\x3cspan class\x3d"blind"\x3e'+Granite.I18n.get("Discount price",null,i18n_hint)+"\x3c/span\x3e"+b+"\x3c/span\x3e"),h+="                                    \x3c/span\x3e"):h=h+'                                    \x3cspan class\x3d"s-price-wrap"\x3e'+('                                        \x3cspan class\x3d"s-price"\x3e'+
a+"\x3c/span\x3e")+"                                    \x3c/span\x3e";$(this).parents(".hubble-item-card").find(".hubble-item-card__price").html(h)}a=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-color-item .hubble-pd-radio.iss-checked").find(".hubble-pd-radio__label .hidden").html();$(this).parents(".option-selector.option-selector__color-text").find(".option-selector__color-name .color-name-text").html(a);O();bc_summary.setCtaTagging();$(this).parents(".hubble-item-card").find(".hubble-item-card__select .hubble-pd-radio.js-radio-wrap").hasClass("is-checked")&&
$(this).parents(".hubble-item-card").find(".hubble-item-card__select .hubble-pd-radio.js-radio-wrap").trigger("click");"outofstock"==$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked").attr("data-mo-stocklevel").toLowerCase()?$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked").find(".s-box-wrap").hide():$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked").find(".s-box-wrap").show();
window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight()});$(document).on("click",".hubble-addon-page.is-gift-type .hubble-item-card__option-wrap .hubble-pd-radio__input",function(a){$(this).change()});$(document).on("click",".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap",function(a){if(!$(this).hasClass("add-bundle")||!$(this).hasClass("is-disabled"))if($(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card .hubble-item-card__select .hubble-pd-radio").each(function(){$(this).removeClass("is-checked");
$(this).find(".hubble-pd-radio__input").removeAttr("checked").prop("checked",!1);$(".hubble-addon-page__item").removeClass("is-selected")}),$(this).addClass("is-checked"),$(this).find(".hubble-pd-radio__input").attr("checked","checked").prop("checked",!0),$(this).closest(".hubble-addon-page__item").addClass("is-selected"),$(this).hasClass("add-smc"))0==$("#hubble-care-layer").length&&window.sg.components.bcProgressbar.show(),setTimeout(function(){loadComponent("care");var c=$(this).find(".hubble-pd-popup-opener").attr("data-layer-target");
if(c&&0!=c.length){var b=$(this).attr("data-smc-code"),h=0;0<h&&$(this).find(".hubble-pd-radio__label").attr("data-layer-target","");void 0!=BC_CARTDATA.careData&&0<BC_CARTDATA.careData.length?1>h&&(bc_confirm.notify({htmlText:Granite.I18n.get("Enjoy free Samsung Care+. Press 'Continue' to replace your Samsung Care+ as a free gift.",null,i18n_hint),btnPrimaryText:Granite.I18n.get("Continue",null,i18n_hint),btnGhostText:Granite.I18n.get("Back",null,i18n_hint),btnPrimaryAttrs:{"an-tr":"gift_care-"+
bcPageTrack()+"-option-select","an-ca":"option click","an-ac":"bridge","an-la":"gift_care:add-on:delete option:continue"},btnGhostyAttrs:{"an-tr":"gift_care-"+bcPageTrack()+"-option-select","an-ca":"option click","an-ac":"bridge","an-la":"gift_care:add-on:delete option:back"},btnCloseAttrs:{"an-tr":"gift_care-"+bcPageTrack()+"-option-select","an-ca":"option click","an-ac":"bridge","an-la":"gift_care:add-on:delete option:close"}},"gift-care-select"),$(".confirm-popup").off("click",'.cta[data-event-type\x3d"gift-care-select"]'),
$(".confirm-popup").on("click",'.cta[data-event-type\x3d"gift-care-select"]',function(c){$(this).hasClass("cta--contained")&&($(this).find(".hubble-pd-radio__label").attr("data-layer-target","#hubble-care-layer"),h=1,"NewHybris"==BC_GROUP.storeType?(BC_MODEL.freeSmcPop=!0,configuratorCare.fromGiftPopup(SERVICEDATA.globalCareData,b,BC_MODEL.isFreeGift,BC_MODEL.modelCode,$(this))):bc_hybris_care_popup.init(b,BC_MODEL.isFreeGift,a,$(this)))})):($(this).find(".hubble-pd-radio__label").attr("data-layer-target",
"#hubble-care-layer"),"NewHybris"==BC_GROUP.storeType?(BC_MODEL.freeSmcPop=!0,configuratorCare.fromGiftPopup(SERVICEDATA.globalCareData,b,BC_MODEL.isFreeGift,BC_MODEL.modelCode,$(this))):bc_hybris_care_popup.init(b,BC_MODEL.isFreeGift,a,$(this)))}else BC_CARTDATA.giftCareData=[],c={modelCode:$(this).attr("data-smc-code"),modelName:$(this).attr("data-smc-name"),price:$(this).attr("data-smc-price"),salePrice:$(this).attr("data-smc-promotionprice")},BC_CARTDATA.giftCareData.push(c),BC_CARTDATA.preSelected=
$(this).closest(".hubble-addon-page__item").index(),"F-"==$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked").attr("data-mo-code").substr(0,2)?C():S(),O()},10);else if($(this).hasClass("add-bundle")&&""!=$(this).find(".hubble-pd-radio__label").attr("data-layer-target")){if("F-"==$(this).attr("data-mo-code").substr(0,2)){var c={bundleModelCode:$(this).attr("data-mo-code"),bundleDisplayName:$(this).attr("data-mo-bundle-name"),bundleOriginPrice:"",
bundleSavePrice:"",bundleTotalPrice:""};loadComponent("addon-bundle");$(document).trigger("bundlePopupEvent",c,$(this));C()}}else BC_CARTDATA.preSelected=$(this).closest(".hubble-addon-page__item").index(),"F-"==$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked").attr("data-mo-code").substr(0,2)?C():S(),O()});$(document).on("click",".hubble-addon-page.is-gift-type .hubble-addon-page__confirm-terms-checkbox-wrap .checkbox-v2__input",function(a){O()});
$(document).on("click",".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta a:not(.cta--disabled)",function(a){if(0==$(".hubble-addon-page.is-gift-type .hubble-addon-page__list").length)bc_summary.goToCart();else if(a=$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked:not(.is-disabled)"),0<a.length)if(a.hasClass("add-smc"))a.find(".hubble-pd-popup-opener").is("[data-layer-target]")?a.find(".hubble-pd-popup-opener").trigger("click"):
(BC_CARTDATA.careData=BC_CARTDATA.giftCareData,bc_summary.goToCart());else if(a.hasClass("add-bundle"))if(void 0!=BC_CARTDATA.freeGiftBundleData&&0<BC_CARTDATA.freeGiftBundleData.length)BC_CARTDATA.careData=""!=I?I:[],BC_CARTDATA.freeGiftData=BC_CARTDATA.freeGiftBundleData,bc_summary.goToCart();else if(""!=a.find(".hubble-pd-radio__label").attr("data-layer-target"))a.find(".hubble-pd-radio__label").trigger("click");else{if(""!=a.attr("data-bundle-code")){for(var c=a.attr("data-bundle-code").split("|"),
e=0;e<c.length;e++)if(""!=c[e]){var b={addonModelCode:c[e],bundleModelCode:a.attr("data-mo-code")};BC_CARTDATA.freeGiftBundleData.push(b)}BC_CARTDATA.freeGiftData=BC_CARTDATA.freeGiftBundleData;bc_summary.goToCart()}}else BC_CARTDATA.careData=""!=I?I:[],bc_summary.goToCart();else $(this).hasClass("add-skip")?bc_summary.goToCart():("se"==siteCode||"dk"==siteCode||"no"==siteCode||"fi"==siteCode)&&bc_summary.goToCart()});$(document).on("click",".hubble-addon-page__cta #addon_nothanks, .hubble-addon-page__cta.gift-type #addon_skip",
function(a){BC_CARTDATA.freeGiftData=[];bc_summary.goToCart()});var F=function(){$("body").css("display","none");$("#content").hide();$(".hubble-price-bar-disclaimer").hide();$(".hubble-price-bar").hide();var a=$(".hubble-addon-page");a.addClass("is-gift-type");a.find(".hubble-addon-page__sticky .hubble-addon-page__price").hide();a.find(".hubble-addon-page__cta").hide();"se"!=siteCode&&"dk"!=siteCode&&"no"!=siteCode&&"fi"!=siteCode&&"it"!=siteCode||a.find(".hubble-addon-page__cta.gift-type").show();
var c="",e="";void 0!=BC_MODEL.freeGiftData&&(c="undefined"!=typeof BC_MODEL.freeGiftData.mainTitle&&""!=BC_MODEL.freeGiftData.mainTitle?BC_MODEL.freeGiftData.mainTitle:"",e="undefined"!=typeof BC_MODEL.freeGiftData.subTitle&&""!=BC_MODEL.freeGiftData.subTitle?BC_MODEL.freeGiftData.subTitle:"",addonDesc="undefined"!=typeof BC_MODEL.freeGiftData.description&&""!=BC_MODEL.freeGiftData.description?BC_MODEL.freeGiftData.description:"");if(""!=c||""!=e)a.find(".hubble-addon-page__price-title .s-txt-title").html(c),
a.find(".hubble-addon-page__price-title .s-txt-sub-title").html(e),""==$(".hubble-addon-page.is-gift-type .hubble-addon-page__inner .hubble-addon-page__price-title .s-txt-desc").html()&&$(".hubble-addon-page.is-gift-type .hubble-addon-page__inner .hubble-addon-page__price-title .s-txt-desc").remove();""!=addonDesc?($(".hubble-addon-page .hubble-addon-page__desc-wrap").show(),$(".hubble-addon-page.is-gift-type .hubble-addon-page__desc-wrap .s-desc").html(addonDesc)):$(".hubble-addon-page .hubble-addon-page__desc-wrap").hide();
"fr"==siteCode&&(a=isNotEmpty(BC_GROUP.continueCtaText)?BC_GROUP.continueCtaText:Granite.I18n.get("Continue",null,i18n_hint),$(".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta .addon-continue-btn .s-cta-text").text(a));bc_addon_page_common.setPriceBar();$("#wrap").addClass("hubble-content__addon");$("#content__addon").show();$(document).scrollTop(0);I=void 0!=BC_CARTDATA.careData&&0<BC_CARTDATA.careData.length?BC_CARTDATA.careData:"";bc_addon_page_common.setAddOnsType();bc_common.historyBackEvent()};
$(document).on("freeContinueEvent",function(a,c){window.sg.components.bcProgressbar.hide();BC_MODEL.isFreeSmc?E():"NewHybris"==$("#storeType").val()?V(BC_MODEL.modelCode):U(BC_MODEL.modelCode)});return{bundleChangeGrid:function(a){a=$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap[data-mo-code\x3d'"+a+"']");a.parents(".hubble-item-card").find(".hubble-item-card__message .s-alert-text").text(Granite.I18n.get("Out of Stock",null,i18n_hint));
a.find(".hubble-pd-radio__input").attr("disabled","disabled");a.addClass("is-disabled");a.attr("data-mo-stocklevel","outofstock");a.find(".hubble-pd-radio__label").attr("data-layer-target","");n()},setAddOnsData:function(){S()},changeContinueCta:function(){O()},selectProductFromPopBtn:function(a){ia(a)},removeBundleChangeTarget:function(a,c){a=$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap[data-mo-code\x3d'"+a+"']");a.attr("data-bundle-code",
c);a.find(".hubble-pd-radio__label").attr("data-layer-target","")},getNewRelatedProductsTariffGift:function(a){return Y(a)},setRelatedProductsObj:function(a){K=a},getRelatedProductsObj:function(){return K},removeRelatedProductsObj:function(){K={}}}}(bc_addon_page_gift),bundleProducts=[],bc_addon_page_bundle=function(){function U(h,n,E){if(bundleProducts[h])Q(bundleProducts[h],h,n),"gift"==n&&"F-"==h.substr(0,2)&&y(h,bundleProducts[h]);else{var r="true"===$("#isEppPage").val()?{withCredentials:!0}:
{};E="jQuery1910499421933433041_0"+E;if("ca"==siteCode||"ca_fr"==siteCode)E+=Math.floor(100*Math.random());"Y"==hybrisJsonYn?$.ajax({url:Y+"/"+multistoreSiteCode+"/servicesv2/getRelatedProductsSimpleInfo?productCode\x3d"+h+"\x26queryType\x3dSELECTION_OF_BUNDLE",type:"GET",dataType:"json",cache:!0,crossDomain:!0,xhrFields:r,timeout:1E4,success:function(n){null!=n.products&&0<n.products.length&&(bundleProducts[h]=n.products)},error:function(){},complete:function(){Q(bundleProducts[h],h,n);"gift"==n&&
"F-"==h.substr(0,2)&&y(h,bundleProducts[h])}}):$.ajax({url:Y+"/"+multistoreSiteCode+"/servicesv2/getRelatedProductsSimpleInfo?productCode\x3d"+h+"\x26queryType\x3dSELECTION_OF_BUNDLE",type:"GET",dataType:"jsonp",jsonpCallback:E,cache:!0,crossDomain:!0,xhrFields:r,timeout:1E4,success:function(n){null!=n.products&&0<n.products.length&&(bundleProducts[h]=n.products)},error:function(){},complete:function(){Q(bundleProducts[h],h,n);"gift"==n&&"F-"==h.substr(0,2)&&y(h,bundleProducts[h])}})}}function V(h,
n,E){bundleProducts[h]?(Q(bundleProducts[h],h,n),"gift"==n&&"F-"==h.substr(0,2)&&y(h,bundleProducts[h])):(E="true"===$("#isEppPage").val()?{withCredentials:!0}:{},$.ajax({url:COMMONMETADATA.hyblisStoreDomain+"/tokocommercewebservices/v2/"+multistoreSiteCode+"/products/"+h+"/relatedProducts?fields\x3dSIMPLE_INFO\x26queryType\x3dSELECTION_OF_BUNDLE",type:"GET",dataType:"json",cache:!0,crossDomain:!0,timeout:1E4,xhrFields:E,success:function(n){null!=n.products&&0<n.products.length&&(bundleProducts[h]=
n.products)},error:function(){},complete:function(){Q(bundleProducts[h],h,n);"gift"==n&&"F-"==h.substr(0,2)&&y(h,bundleProducts[h])}}))}function Q(h,n,E){var r={},aa=!1;if(null!=h){var L=0;$.each(h,function(h,n){n.groupCode&&(null==r[n.groupCode]&&(r[n.groupCode]=[],L++),r[n.groupCode].push(n))});var C=[];$.each(r,function(h,n){var r=0;$.each(n,function(h,c){"NewHybris"==$("#storeType").val()?"outofstock"==c.stock.stockLevelStatus.toLowerCase()&&r++:"outofstock"==c.stocklevel.toLowerCase()&&r++});
C.push(0<r&&r==n.length?"Y":"N")});aa=-1<C.indexOf("Y")?!0:!1;if(0<h.length&&h.length==L){var y="",O=0;$.each(r,function(h,n){$.each(n,function(h,n){0<O&&(y+="|");y+=n.modelcode;O++})});"gift"==E?bc_addon_page_gift.removeBundleChangeTarget(n,y):bc_addon_page.removeBundleChangeTarget(n,y)}}else aa=!1;aa&&("gift"==E?bc_addon_page_gift.bundleChangeGrid(n):"recommend"==E?bc_addon_recommend_product.bundleChangeGrid(n):bc_addon_page.bundleChangeGrid(n))}function y(h,n){if("F-"==$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked").attr("data-mo-code").substr(0,
2)&&(BC_CARTDATA.freeGiftData=[],"F-"==h.substr(0,2))){h=!1;for(var E="",r="",y="",L="",C=0;C<n.length;C++)-1==y.indexOf(n[C].groupCode)&&(isNotEmpty(r)&&(r+=","),isNotEmpty(y)&&(y+=","),isNotEmpty(L)&&(L+=","),"NewHybris"==$("#storeType").val()?"outofstock"!=n[C].stock.stockLevelStatus.toLowerCase()&&(r+=n[C].modelcode,y+=n[C].groupCode,L+=n[C].name):"outofstock"!=n[C].stocklevel.toLowerCase()&&(r+=n[C].modelcode,y+=n[C].groupCode,L+=n[C].name));if(isNotEmpty(y))for(C=0;C<n.length;C++)-1==E.indexOf(n[C].groupCode)&&
(isNotEmpty(E)&&(E+=","),E+=n[C].groupCode),h=y==E?!0:!1;isNotEmpty(r)&&isNotEmpty(y)&&isNotEmpty(L)&&h&&(n={addonModelCode:r,addonModelName:y,dtmModelCode:r,addonModelPrice:0,addonModelOriginPrice:0,displayName:L,pviTypeName:$(".hubble-addon-page__inner .is-checked").attr("data-pviTypeName"),pviSubtypeName:$(".hubble-addon-page__inner .is-checked").attr("data-pviSubtypeName"),categorySubTypeEngName:$(".hubble-addon-page__inner .is-checked").attr("data-categorySubTypeEngName"),modelrevenue:0,modelqty:1},
BC_CARTDATA.freeGiftData.push(n))}}var Y=$("#bcStoreDomain").val();return{getRelatedProductsSimpleInfo:function(h,n){$.each(h,function(h,r){"NewHybris"==$("#storeType").val()?V(r,n,h):U(r,n,h)})}}}(bc_addon_page_bundle);